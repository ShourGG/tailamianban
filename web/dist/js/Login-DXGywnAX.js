import{k as C,ag as L,r as c,e as P,o as R,a0 as r,O as V,P as N,S as e,Q as s,R as t,ah as T,j as l,_ as U,ai as q}from"./vue-vendor-DIhTWhib.js";import{u as z}from"./auth-CkdLDIrH.js";import{H as A,Y as D,T as K,M as h,X as j,V as E}from"./ui-vendor-qucRfopV.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DHqb4JDz.js";import"./spline-vendor-BYERog9l.js";import"./charts-vendor-XI8Sg87J.js";import"./editor-vendor-CUlQiixb.js";const H={class:"login-container"},I={class:"login-card"},O={class:"login-header"},Q={class:"logo"},X={class:"login-footer"},Y=C({__name:"Login",setup($){const f=L(),m=A(),v=z(),d=c(),a=c(!1),n=P({username:"",password:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},i=async()=>{try{await d.value?.validate(),a.value=!0,await v.login(n.username,n.password),m.success("登录成功!"),f.push("/dashboard")}catch(_){m.error(_.message||"登录失败，请检查用户名和密码")}finally{a.value=!1}};return R(()=>{n.username="admin",n.password="admin123"}),(_,o)=>{const b=r("i-carbon-game-console"),y=r("i-carbon-user"),g=K,u=D,x=r("i-carbon-password"),k=h,S=j,M=r("i-carbon-information"),B=E;return N(),V("div",H,[e("div",I,[e("div",O,[e("div",Q,[s(b,{class:"logo-icon"}),o[2]||(o[2]=e("h1",null,"泰拉瑞亚面板",-1))]),o[3]||(o[3]=e("p",{class:"subtitle"},"Terraria Server Management Panel",-1))]),s(S,{ref_key:"formRef",ref:d,model:n,rules:w,size:"large",onSubmit:q(i,["prevent"])},{default:t(()=>[s(u,{path:"username"},{default:t(()=>[s(g,{value:n.username,"onUpdate:value":o[0]||(o[0]=p=>n.username=p),placeholder:"用户名 / Username","input-props":{autocomplete:"username"}},{prefix:t(()=>[s(y)]),_:1},8,["value"])]),_:1}),s(u,{path:"password"},{default:t(()=>[s(g,{value:n.password,"onUpdate:value":o[1]||(o[1]=p=>n.password=p),type:"password",placeholder:"密码 / Password","input-props":{autocomplete:"current-password"},onKeyup:T(i,["enter"])},{prefix:t(()=>[s(x)]),_:1},8,["value"])]),_:1}),s(u,null,{default:t(()=>[s(k,{type:"primary",size:"large",block:"",loading:a.value,onClick:i},{default:t(()=>[l(U(a.value?"登录中...":"登录 / Login"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e("div",X,[s(B,{type:"info","show-icon":!1},{header:t(()=>[s(M),o[4]||(o[4]=l(" 默认账号 / Default Account ",-1))]),default:t(()=>[o[5]||(o[5]=l(" 用户名: ",-1)),o[6]||(o[6]=e("strong",null,"admin",-1)),o[7]||(o[7]=l(" | 密码: ",-1)),o[8]||(o[8]=e("strong",null,"admin123",-1)),o[9]||(o[9]=e("br",null,null,-1)),o[10]||(o[10]=e("small",null,"首次登录后请及时修改密码 / Please change password after first login",-1))]),_:1})])]),o[11]||(o[11]=e("div",{class:"login-bg"},[e("div",{class:"bg-pattern"})],-1))])}}}),to=F(Y,[["__scopeId","data-v-0d13c2d4"]]);export{to as default};
