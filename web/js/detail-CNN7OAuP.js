import{k as D,az as K,aF as W,r as j,c as H,Q as P,R as d,S as a,U as e,K as l,V as r,j as o,$ as n,_ as p,Y as m,F as T,N as z,M as Q,I as Y}from"./vue-vendor-B-HGZVTd.js";import{am as q,K as h,H as b,a7 as _,S as c,U as g,aK as w,T as $,M as G,ab as x,aD as S,aE as u,aa as J}from"./ui-vendor-C2DiPTQI.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"p-4"},Z={class:"flex items-center gap-4"},ee={class:"text-2xl font-bold"},le={class:"text-sm text-gray-500 mt-1"},ae={class:"text-lg"},te={class:"font-bold text-base"},oe=D({__name:"detail",setup(se){const N=K(),M=W(),y=q(),v=N.params.id,t=j({id:v,name:"生存服",type:"tshock",status:"running",port:7777,password:"",maxPlayers:8,currentPlayers:3,worldName:"SurvivalWorld",createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-01 10:00:00",worldConfig:{size:"2",difficulty:"1",autoSave:!0,pvp:!1,hardcore:!1,language:"zh-CN",motd:"欢迎来到生存服"},tshockConfig:{restApiPort:7878,restApiToken:"token123",superAdminPassword:"admin123",enableWhitelist:!1}}),k={vanilla:{label:"原版服",color:"default"},tshock:{label:"TShock插件服",color:"success"},tmodloader:{label:"TModLoader Mod服",color:"warning"}},C={stopped:{label:"已停止",color:"default"},starting:{label:"启动中",color:"info"},running:{label:"运行中",color:"success"},stopping:{label:"停止中",color:"warning"},error:{label:"错误",color:"error"}},A={1:"小型 (4200×1200)",2:"中型 (6400×1800)",3:"大型 (8400×2400)"},R={0:"普通模式",1:"专家模式",2:"大师模式",3:"旅途模式"},B=H(()=>{const f=[{name:"console",label:"控制台",icon:"i-mdi:console",path:"/terraria/console",color:"blue"},{name:"worlds",label:"世界管理",icon:"i-mdi:earth",path:"/terraria/worlds",color:"green"},{name:"players",label:"玩家管理",icon:"i-mdi:account-group",path:"/terraria/players",color:"purple"}];return t.value.type==="tshock"&&f.push({name:"tshock-config",label:"TShock配置",icon:"i-mdi:cog-outline",path:`/terraria/rooms/${v}/tshock-config`,color:"orange"},{name:"ssc-config",label:"SSC开荒配置",icon:"i-mdi:shield-lock",path:`/terraria/rooms/${v}/ssc-config`,color:"red"},{name:"plugins",label:"插件管理",icon:"i-mdi:puzzle",path:"/terraria/plugins",color:"cyan"},{name:"permissions",label:"权限管理",icon:"i-mdi:shield-account",path:"/terraria/permissions",color:"pink"}),t.value.type==="tmodloader"&&f.push({name:"mods",label:"Mod管理",icon:"i-mdi:package-variant",path:"/terraria/mods",color:"yellow"}),(t.value.type==="tshock"||t.value.type==="tmodloader")&&f.push({name:"mod-market",label:"模组/插件市场",icon:"i-mdi:shopping",path:`/terraria/rooms/${v}/mod-market`,color:"indigo"}),f}),E=()=>{t.value.status="running",y.success("服务器启动成功")},I=()=>{t.value.status="stopped",t.value.currentPlayers=0,y.success("服务器已停止")},F=()=>{y.info("服务器正在重启..."),setTimeout(()=>{y.success("服务器重启成功")},2e3)},L=()=>{M.push(`/terraria/rooms/edit/${v}`)},U=()=>{M.push("/terraria/rooms")},V=f=>{M.push(f)};return(f,s)=>(d(),P("div",X,[a(l(c),{class:"mb-4"},{default:e(()=>[a(l(h),{justify:"space-between",align:"center"},{default:e(()=>[r("div",Z,[a(l(b),{onClick:U},{icon:e(()=>[...s[0]||(s[0]=[r("div",{class:"i-mdi:arrow-left"},null,-1)])]),default:e(()=>[s[1]||(s[1]=o(" 返回列表 ",-1))]),_:1}),r("div",null,[r("div",ee,n(t.value.name),1),r("div",le,"房间ID: "+n(t.value.id),1)])]),a(l(h),null,{default:e(()=>[a(l(_),{type:k[t.value.type].color,size:"large"},{default:e(()=>[o(n(k[t.value.type].label),1)]),_:1},8,["type"]),a(l(_),{type:C[t.value.status].color,size:"large"},{default:e(()=>[o(n(C[t.value.status].label),1)]),_:1},8,["type"])]),_:1})]),_:1})]),_:1}),a(l(c),{title:"服务器控制",class:"mb-4"},{default:e(()=>[a(l(h),null,{default:e(()=>[t.value.status==="stopped"?(d(),p(l(b),{key:0,type:"success",size:"large",onClick:E},{icon:e(()=>[...s[2]||(s[2]=[r("div",{class:"i-mdi:play"},null,-1)])]),default:e(()=>[s[3]||(s[3]=o(" 启动服务器 ",-1))]),_:1})):m("",!0),t.value.status==="running"?(d(),p(l(b),{key:1,type:"warning",size:"large",onClick:I},{icon:e(()=>[...s[4]||(s[4]=[r("div",{class:"i-mdi:stop"},null,-1)])]),default:e(()=>[s[5]||(s[5]=o(" 停止服务器 ",-1))]),_:1})):m("",!0),a(l(b),{type:"info",size:"large",onClick:F},{icon:e(()=>[...s[6]||(s[6]=[r("div",{class:"i-mdi:restart"},null,-1)])]),default:e(()=>[s[7]||(s[7]=o(" 重启服务器 ",-1))]),_:1}),a(l(b),{size:"large",onClick:L},{icon:e(()=>[...s[8]||(s[8]=[r("div",{class:"i-mdi:cog"},null,-1)])]),default:e(()=>[s[9]||(s[9]=o(" 编辑配置 ",-1))]),_:1})]),_:1})]),_:1}),a(l($),{cols:4,"x-gap":12,class:"mb-4"},{default:e(()=>[a(l(g),null,{default:e(()=>[a(l(c),null,{default:e(()=>[a(l(w),{label:"在线玩家",value:t.value.currentPlayers},{suffix:e(()=>[o("/ "+n(t.value.maxPlayers),1)]),_:1},8,["value"])]),_:1})]),_:1}),a(l(g),null,{default:e(()=>[a(l(c),null,{default:e(()=>[a(l(w),{label:"服务器端口",value:t.value.port},null,8,["value"])]),_:1})]),_:1}),a(l(g),null,{default:e(()=>[a(l(c),null,{default:e(()=>[a(l(w),{label:"世界名称"},{default:e(()=>[r("span",ae,n(t.value.worldName),1)]),_:1})]),_:1})]),_:1}),a(l(g),null,{default:e(()=>[a(l(c),null,{default:e(()=>[a(l(w),{label:"运行时长"},{default:e(()=>[...s[10]||(s[10]=[r("span",{class:"text-lg"},"2小时30分",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),a(l(c),{title:"管理功能",class:"mb-4"},{default:e(()=>[a(l($),{cols:4,"x-gap":12,"y-gap":12},{default:e(()=>[(d(!0),P(T,null,z(B.value,i=>(d(),p(l(g),{key:i.name},{default:e(()=>[a(l(c),{hoverable:"",class:"cursor-pointer text-center transition-all hover:shadow-lg",onClick:ne=>V(i.path),style:Q({borderTop:`3px solid var(--${i.color}-500)`})},{default:e(()=>[r("div",{class:Y([i.icon,`text-4xl mb-3 text-${i.color}-500`])},null,2),r("div",te,n(i.label),1)]),_:2},1032,["onClick","style"])]),_:2},1024))),128))]),_:1}),t.value.type==="vanilla"?(d(),p(l(G),{key:0,type:"info",bordered:!1,class:"mt-4"},{icon:e(()=>[...s[11]||(s[11]=[r("div",{class:"i-mdi:information"},null,-1)])]),default:e(()=>[s[12]||(s[12]=o(" 原版服务器功能有限，建议升级为TShock插件服或TModLoader模组服以获得更多管理功能 ",-1))]),_:1})):m("",!0)]),_:1}),a(l(J),{type:"line"},{default:e(()=>[a(l(x),{name:"basic",tab:"基础信息"},{default:e(()=>[a(l(S),{bordered:"",column:2},{default:e(()=>[a(l(u),{label:"房间名称"},{default:e(()=>[o(n(t.value.name),1)]),_:1}),a(l(u),{label:"服务器类型"},{default:e(()=>[a(l(_),{type:k[t.value.type].color},{default:e(()=>[o(n(k[t.value.type].label),1)]),_:1},8,["type"])]),_:1}),a(l(u),{label:"服务器状态"},{default:e(()=>[a(l(_),{type:C[t.value.status].color},{default:e(()=>[o(n(C[t.value.status].label),1)]),_:1},8,["type"])]),_:1}),a(l(u),{label:"端口"},{default:e(()=>[o(n(t.value.port),1)]),_:1}),a(l(u),{label:"最大玩家数"},{default:e(()=>[o(n(t.value.maxPlayers),1)]),_:1}),a(l(u),{label:"当前玩家数"},{default:e(()=>[o(n(t.value.currentPlayers),1)]),_:1}),a(l(u),{label:"密码保护"},{default:e(()=>[o(n(t.value.password?"是":"否"),1)]),_:1}),a(l(u),{label:"创建时间"},{default:e(()=>[o(n(t.value.createdAt),1)]),_:1})]),_:1})]),_:1}),a(l(x),{name:"world",tab:"世界信息"},{default:e(()=>[a(l(S),{bordered:"",column:2},{default:e(()=>[a(l(u),{label:"世界名称"},{default:e(()=>[o(n(t.value.worldName),1)]),_:1}),a(l(u),{label:"世界种子"},{default:e(()=>[o(n(t.value.worldConfig.seed||"随机"),1)]),_:1}),a(l(u),{label:"世界大小"},{default:e(()=>[o(n(A[t.value.worldConfig.size]),1)]),_:1}),a(l(u),{label:"难度模式"},{default:e(()=>[o(n(R[t.value.worldConfig.difficulty]),1)]),_:1}),a(l(u),{label:"自动保存"},{default:e(()=>[o(n(t.value.worldConfig.autoSave?"开启":"关闭"),1)]),_:1}),a(l(u),{label:"PvP模式"},{default:e(()=>[o(n(t.value.worldConfig.pvp?"开启":"关闭"),1)]),_:1}),a(l(u),{label:"硬核模式"},{default:e(()=>[o(n(t.value.worldConfig.hardcore?"开启":"关闭"),1)]),_:1}),a(l(u),{label:"语言"},{default:e(()=>[o(n(t.value.worldConfig.language),1)]),_:1}),a(l(u),{label:"欢迎信息",span:2},{default:e(()=>[o(n(t.value.worldConfig.motd),1)]),_:1})]),_:1})]),_:1}),t.value.type==="tshock"?(d(),p(l(x),{key:0,name:"tshock",tab:"TShock配置"},{default:e(()=>[a(l(S),{bordered:"",column:2},{default:e(()=>[a(l(u),{label:"REST API端口"},{default:e(()=>[o(n(t.value.tshockConfig?.restApiPort),1)]),_:1}),a(l(u),{label:"REST API Token"},{default:e(()=>[...s[13]||(s[13]=[o(" •••••••• ",-1)])]),_:1}),a(l(u),{label:"白名单"},{default:e(()=>[o(n(t.value.tshockConfig?.enableWhitelist?"开启":"关闭"),1)]),_:1})]),_:1})]),_:1})):m("",!0),t.value.type==="tmodloader"?(d(),p(l(x),{key:1,name:"tmodloader",tab:"TModLoader配置"},{default:e(()=>[a(l(S),{bordered:"",column:1},{default:e(()=>[a(l(u),{label:"启用的Mod"},{default:e(()=>[a(l(h),null,{default:e(()=>[(d(!0),P(T,null,z(t.value.tmodloaderConfig?.enabledMods,i=>(d(),p(l(_),{key:i,type:"success"},{default:e(()=>[o(n(i),1)]),_:2},1024))),128)),t.value.tmodloaderConfig?.enabledMods?.length?m("",!0):(d(),p(l(_),{key:0,type:"default"},{default:e(()=>[...s[14]||(s[14]=[o(" 暂无Mod ",-1)])]),_:1}))]),_:1})]),_:1}),t.value.tmodloaderConfig?.modPackUrl?(d(),p(l(u),{key:0,label:"Mod包URL"},{default:e(()=>[o(n(t.value.tmodloaderConfig.modPackUrl),1)]),_:1})):m("",!0)]),_:1})]),_:1})):m("",!0)]),_:1})]))}}),ie=O(oe,[["__scopeId","data-v-01479a55"]]);export{ie as default};
