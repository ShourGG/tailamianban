import{am as A,aG as C,aF as T,K as p,J as $,H as o,S as w,a7 as _}from"./ui-vendor-C2DiPTQI.js";import{k as P,r as m,c as B,Q as b,R as z,S as n,U as r,K as s,m as a,j as K}from"./vue-vendor-B-HGZVTd.js";const N={class:"p-4"},S=P({__name:"players",setup(D){const i=A(),f=C(),d=m(!1),l=m([{id:1,username:"Player1",character:"战士",playtime:"12小时30分",status:"online",isAdmin:!0},{id:2,username:"Player2",character:"法师",playtime:"8小时15分",status:"online",isAdmin:!1},{id:3,username:"Player3",character:"射手",playtime:"5小时45分",status:"offline",isAdmin:!1}]),u=m(""),v=[{title:"用户名",key:"username",width:150},{title:"角色",key:"character",width:120},{title:"游戏时长",key:"playtime",width:150},{title:"状态",key:"status",width:100,render:e=>a(_,{type:e.status==="online"?"success":"default"},()=>e.status==="online"?"在线":"离线")},{title:"管理员",key:"isAdmin",width:100,render:e=>a(_,{type:e.isAdmin?"warning":"default"},()=>e.isAdmin?"是":"否")},{title:"操作",key:"actions",width:300,fixed:"right",render:e=>a(p,null,{default:()=>[e.status==="online"&&a(o,{size:"small",type:"warning",onClick:()=>g(e)},()=>"踢出"),a(o,{size:"small",type:e.isAdmin?"default":"primary",onClick:()=>k(e)},()=>e.isAdmin?"取消管理员":"设为管理员"),a(o,{size:"small",type:"error",onClick:()=>y(e)},()=>"封禁")]})}],h=()=>{d.value=!0,setTimeout(()=>{d.value=!1,i.success("刷新成功")},1e3)},g=e=>{f.warning({title:"确认踢出",content:`确定要踢出玩家 "${e.username}" 吗？`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{e.status="offline",i.success(`已踢出玩家: ${e.username}`)}})},k=e=>{e.isAdmin=!e.isAdmin,i.success(`${e.username} ${e.isAdmin?"已设为":"已取消"}管理员`)},y=e=>{f.error({title:"确认封禁",content:`确定要封禁玩家 "${e.username}" 吗？`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const t=l.value.findIndex(c=>c.id===e.id);t>-1&&l.value.splice(t,1),i.success(`已封禁玩家: ${e.username}`)}})},x=B(()=>u.value?l.value.filter(e=>e.username.toLowerCase().includes(u.value.toLowerCase())):l.value);return(e,t)=>(z(),b("div",N,[n(s(w),{title:"玩家管理"},{"header-extra":r(()=>[n(s(p),null,{default:r(()=>[n(s($),{value:u.value,"onUpdate:value":t[0]||(t[0]=c=>u.value=c),placeholder:"搜索玩家...",clearable:"",style:{width:"200px"}},null,8,["value"]),n(s(o),{onClick:h},{default:r(()=>[...t[1]||(t[1]=[K("刷新",-1)])]),_:1})]),_:1})]),default:r(()=>[n(s(T),{columns:v,data:s(x),loading:d.value,bordered:!1},null,8,["data","loading"])]),_:1})]))}});export{S as default};
