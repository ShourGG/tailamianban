import{k as M,aF as N,r as b,o as E,Q as k,R as g,S as a,U as t,K as s,V as r,F,N as K,_ as v,I as j,$ as u,aE as U,j as c}from"./vue-vendor-B-HGZVTd.js";import{am as A,U as m,S as o,aK as _,T as P,K as i,ah as C,H as f}from"./ui-vendor-C2DiPTQI.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"dashboard-page"},L={class:"font-bold text-lg"},R={class:"text-sm text-gray-500"},H={class:"text-xs text-gray-500 text-center"},Q={class:"text-xs text-gray-500 text-center"},q=M({__name:"dashboard",setup(G){const S=N(),d=A(),y=b({totalServers:5,runningServers:3,onlinePlayers:12,cpuUsage:45}),p=b([{id:"1",name:"生存服",type:"TShock",status:"running",port:7777,currentPlayers:5,maxPlayers:8,cpuUsage:35,memoryUsage:62},{id:"2",name:"Mod服",type:"TModLoader",status:"running",port:7778,currentPlayers:3,maxPlayers:8,cpuUsage:28,memoryUsage:58},{id:"3",name:"PVP服",type:"TShock",status:"running",port:7779,currentPlayers:4,maxPlayers:16,cpuUsage:42,memoryUsage:71},{id:"4",name:"建筑服",type:"Vanilla",status:"stopped",port:7780,currentPlayers:0,maxPlayers:8,cpuUsage:0,memoryUsage:0},{id:"5",name:"开荒服",type:"TShock",status:"stopped",port:7781,currentPlayers:0,maxPlayers:10,cpuUsage:0,memoryUsage:0}]),w=()=>{d.success("数据已刷新")},$=()=>{p.value.forEach(n=>{n.status==="stopped"&&(n.status="running")}),d.success("所有服务器正在启动...")},z=()=>{p.value.forEach(n=>{n.status==="running"&&(n.status="stopped",n.currentPlayers=0,n.cpuUsage=0,n.memoryUsage=0)}),d.warning("所有服务器已停止")},T=n=>{const e=p.value.find(l=>l.id===n);e&&(e.status="running",d.success(`${e.name} 启动成功`))},h=n=>{const e=p.value.find(l=>l.id===n);e&&(e.status="stopped",e.currentPlayers=0,e.cpuUsage=0,e.memoryUsage=0,d.success(`${e.name} 已停止`))},V=n=>{const e=p.value.find(l=>l.id===n);e&&d.info(`${e.name} 正在重启...`)},B=n=>{S.push(`/terraria/rooms/${n}`)};return E(()=>{}),(n,e)=>(g(),k("div",I,[a(s(P),{cols:4,"x-gap":16,"y-gap":16,class:"mb-4"},{default:t(()=>[a(s(m),null,{default:t(()=>[a(s(o),{bordered:!1},{default:t(()=>[a(s(_),{label:"服务器总数",value:y.value.totalServers},{prefix:t(()=>[...e[0]||(e[0]=[r("div",{class:"i-mdi:server text-blue-500 text-2xl"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1}),a(s(m),null,{default:t(()=>[a(s(o),{bordered:!1},{default:t(()=>[a(s(_),{label:"运行中",value:y.value.runningServers},{prefix:t(()=>[...e[1]||(e[1]=[r("div",{class:"i-mdi:play-circle text-green-500 text-2xl"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1}),a(s(m),null,{default:t(()=>[a(s(o),{bordered:!1},{default:t(()=>[a(s(_),{label:"在线玩家",value:y.value.onlinePlayers},{prefix:t(()=>[...e[2]||(e[2]=[r("div",{class:"i-mdi:account-group text-purple-500 text-2xl"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1}),a(s(m),null,{default:t(()=>[a(s(o),{bordered:!1},{default:t(()=>[a(s(_),{label:"CPU使用率",value:y.value.cpuUsage,suffix:"%"},{prefix:t(()=>[...e[3]||(e[3]=[r("div",{class:"i-mdi:cpu-64-bit text-orange-500 text-2xl"},null,-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),a(s(o),{title:"服务器状态",class:"mb-4"},{"header-extra":t(()=>[a(s(i),null,{default:t(()=>[a(s(f),{onClick:w},{icon:t(()=>[...e[4]||(e[4]=[r("div",{class:"i-mdi:refresh"},null,-1)])]),default:t(()=>[e[5]||(e[5]=c(" 刷新 ",-1))]),_:1}),a(s(f),{type:"success",onClick:$},{icon:t(()=>[...e[6]||(e[6]=[r("div",{class:"i-mdi:play-circle"},null,-1)])]),default:t(()=>[e[7]||(e[7]=c(" 全部启动 ",-1))]),_:1}),a(s(f),{type:"warning",onClick:z},{icon:t(()=>[...e[8]||(e[8]=[r("div",{class:"i-mdi:stop-circle"},null,-1)])]),default:t(()=>[e[9]||(e[9]=c(" 全部停止 ",-1))]),_:1})]),_:1})]),default:t(()=>[a(s(i),{vertical:"",size:"large"},{default:t(()=>[(g(!0),k(F,null,K(p.value,l=>(g(),v(s(o),{key:l.id,size:"small",hoverable:"",class:"cursor-pointer",onClick:x=>B(l.id)},{default:t(()=>[a(s(i),{justify:"space-between",align:"center"},{default:t(()=>[a(s(i),{align:"center"},{default:t(()=>[r("div",{class:j(["status-indicator",l.status==="running"?"bg-green-500":"bg-gray-400"])},null,2),r("div",null,[r("div",L,u(l.name),1),r("div",R,u(l.type)+" | 端口: "+u(l.port)+" | 玩家: "+u(l.currentPlayers)+"/"+u(l.maxPlayers),1)])]),_:2},1024),a(s(i),null,{default:t(()=>[a(s(i),{vertical:"",size:"small"},{default:t(()=>[a(s(C),{type:"line",percentage:l.cpuUsage,height:8,"border-radius":4,"show-indicator":!1,style:{width:"100px"}},null,8,["percentage"]),r("div",H," CPU: "+u(l.cpuUsage)+"% ",1)]),_:2},1024),a(s(i),{vertical:"",size:"small"},{default:t(()=>[a(s(C),{type:"line",percentage:l.memoryUsage,height:8,"border-radius":4,"show-indicator":!1,style:{width:"100px"},color:l.memoryUsage>80?"#f56c6c":"#409eff"},null,8,["percentage","color"]),r("div",Q," 内存: "+u(l.memoryUsage)+"% ",1)]),_:2},1024),l.status==="stopped"?(g(),v(s(f),{key:0,size:"small",type:"success",onClick:U(x=>T(l.id),["stop"])},{default:t(()=>[...e[10]||(e[10]=[c(" 启动 ",-1)])]),_:1},8,["onClick"])):(g(),v(s(f),{key:1,size:"small",type:"warning",onClick:U(x=>h(l.id),["stop"])},{default:t(()=>[...e[11]||(e[11]=[c(" 停止 ",-1)])]),_:1},8,["onClick"])),a(s(f),{size:"small",onClick:U(x=>V(l.id),["stop"])},{default:t(()=>[...e[12]||(e[12]=[c(" 重启 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),a(s(P),{cols:2,"x-gap":16},{default:t(()=>[a(s(m),null,{default:t(()=>[a(s(o),{title:"系统资源"},{default:t(()=>[...e[13]||(e[13]=[r("div",{id:"cpuChart",style:{height:"300px"}},null,-1)])]),_:1})]),_:1}),a(s(m),null,{default:t(()=>[a(s(o),{title:"内存使用"},{default:t(()=>[...e[14]||(e[14]=[r("div",{id:"memoryChart",style:{height:"300px"}},null,-1)])]),_:1})]),_:1})]),_:1})]))}}),X=D(q,[["__scopeId","data-v-6b3e65ef"]]);export{X as default};
