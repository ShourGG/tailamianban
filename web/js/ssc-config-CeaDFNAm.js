import{k as O,az as L,r as _,e as N,Q as p,R as d,S as a,U as l,K as t,V as n,j as r,_ as R,m as W,F as S,N as C,$ as f}from"./vue-vendor-B-HGZVTd.js";import{am as G,K as m,M as U,S as x,P as T,Q as v,ag as J,a9 as b,ad as X,H as g,aF as Y,I as Z,a7 as k,aP as h,aQ as w,V as ee,a4 as le}from"./ui-vendor-C2DiPTQI.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"ssc-config-page"},se={class:"ml-2"},ne={class:"ml-2"},ie={class:"ml-2"},re={class:"ml-2"},oe=O({__name:"ssc-config",setup(ue){const H=L(),y=G();H.params.id;const B=_(),M=_(),z=_(!1),I=_(!1),i=N({enabled:!1,serverSideCharacterSave:5,logonDiscardThreshold:250,startingHealth:100,startingMana:20,startingInventory:[]}),o=N({netID:0,prefix:0,stack:1}),F={netID:{required:!0,type:"number",min:1,message:"请输入有效的物品ID",trigger:"blur"},stack:{required:!0,type:"number",min:1,message:"数量至少为1",trigger:"blur"}},V=[{label:"无前缀",value:0},{label:"虚弱",value:1},{label:"恼人",value:2},{label:"锋利",value:81},{label:"尖锐",value:82},{label:"传奇",value:83}],$=[{label:"纯净开荒",key:"pure"},{label:"基础工具",key:"basic"},{label:"舒适开局",key:"comfort"},{label:"豪华礼包",key:"luxury"}],P=[{title:"物品ID",key:"netID",width:100},{title:"前缀ID",key:"prefix",width:100},{title:"数量",key:"stack",width:100},{title:"操作",key:"actions",render:(u,e)=>W(g,{size:"small",type:"error",onClick:()=>Q(e)},{default:()=>"删除"})}],D={tools:[{id:3,name:"铜镐"},{id:10,name:"铜斧"},{id:8,name:"铜锤"},{id:281,name:"铜稿镐"},{id:989,name:"铜钻头"}],weapons:[{id:4,name:"铜剑"},{id:5,name:"铜弓"},{id:40,name:"木剑"},{id:39,name:"木锤"}],materials:[{id:9,name:"木材"},{id:8,name:"火把"},{id:965,name:"石块"},{id:3,name:"泥土"}],potions:[{id:28,name:"回复药水"},{id:289,name:"再生药水"},{id:288,name:"迅捷药水"},{id:292,name:"铁皮药水"}]},c=u=>{const s={pure:[],basic:[{netID:3,prefix:0,stack:1},{netID:10,prefix:0,stack:1},{netID:4,prefix:0,stack:1}],comfort:[{netID:3,prefix:0,stack:1},{netID:10,prefix:0,stack:1},{netID:4,prefix:0,stack:1},{netID:8,prefix:0,stack:99},{netID:9,prefix:0,stack:99}],luxury:[{netID:3,prefix:0,stack:1},{netID:10,prefix:0,stack:1},{netID:8,prefix:0,stack:1},{netID:4,prefix:0,stack:1},{netID:5,prefix:0,stack:1},{netID:40,prefix:0,stack:500},{netID:8,prefix:0,stack:99},{netID:9,prefix:0,stack:200},{netID:28,prefix:0,stack:10},{netID:289,prefix:0,stack:5}]}[u];if(s!==void 0){i.startingInventory=[...s];const A=$.find(K=>K.key===u)?.label;y.success(`已应用 ${A} 预设`)}},E=()=>{M.value?.validate(u=>{u||(i.startingInventory.push({...o}),y.success("物品已添加"),I.value=!1,o.netID=0,o.prefix=0,o.stack=1)})},Q=u=>{i.startingInventory.splice(u,1),y.success("物品已删除")},j=()=>{i.enabled=!1,i.serverSideCharacterSave=5,i.logonDiscardThreshold=250,i.startingHealth=100,i.startingMana=20,i.startingInventory=[],y.success("已恢复默认配置")},q=async()=>{z.value=!0;try{await new Promise(u=>setTimeout(u,1e3)),y.success("SSC配置已保存")}catch{y.error("保存失败")}finally{z.value=!1}};return(u,e)=>(d(),p("div",ae,[a(t(x),{title:"SSC 强制开荒配置",bordered:!1},{"header-extra":l(()=>[a(t(m),null,{default:l(()=>[a(t(g),{onClick:j},{icon:l(()=>[...e[12]||(e[12]=[n("i",{class:"i-mdi:restore"},null,-1)])]),default:l(()=>[e[13]||(e[13]=r(" 恢复默认 ",-1))]),_:1}),a(t(g),{type:"primary",onClick:q,loading:z.value},{icon:l(()=>[...e[14]||(e[14]=[n("i",{class:"i-mdi:content-save"},null,-1)])]),default:l(()=>[e[15]||(e[15]=r(" 保存配置 ",-1))]),_:1},8,["loading"])]),_:1})]),default:l(()=>[a(t(m),{vertical:"",size:"large"},{default:l(()=>[a(t(U),{type:"info",bordered:!1},{icon:l(()=>[...e[16]||(e[16]=[n("i",{class:"i-mdi:information"},null,-1)])]),default:l(()=>[e[17]||(e[17]=n("div",null,[n("strong",null,"什么是SSC强制开荒？"),n("br"),r(" SSC (Server Side Characters) 将玩家数据存储在服务器端，防止玩家使用修改器作弊。 开启后，玩家的物品、生命值等数据都保存在服务器，无法通过本地修改角色数据来作弊。 ")],-1))]),_:1}),a(t(x),{title:"基础设置",size:"small"},{default:l(()=>[a(t(T),{ref_key:"formRef",ref:B,model:i,"label-placement":"left","label-width":"200"},{default:l(()=>[a(t(v),{label:"启用SSC",path:"enabled"},{default:l(()=>[a(t(J),{value:i.enabled,"onUpdate:value":e[0]||(e[0]=s=>i.enabled=s)},null,8,["value"]),e[18]||(e[18]=n("span",{class:"ml-2 text-gray-500"},"开启后强制使用服务器端人物",-1))]),_:1}),a(t(v),{label:"自动保存间隔（分钟）",path:"serverSideCharacterSave"},{default:l(()=>[a(t(b),{value:i.serverSideCharacterSave,"onUpdate:value":e[1]||(e[1]=s=>i.serverSideCharacterSave=s),min:1,max:60},null,8,["value"]),e[19]||(e[19]=n("span",{class:"ml-2 text-gray-500"},"多久自动保存一次玩家数据",-1))]),_:1}),a(t(v),{label:"违规检测阈值",path:"logonDiscardThreshold"},{default:l(()=>[a(t(b),{value:i.logonDiscardThreshold,"onUpdate:value":e[2]||(e[2]=s=>i.logonDiscardThreshold=s),min:100,max:9999,step:50},null,8,["value"]),e[20]||(e[20]=n("span",{class:"ml-2 text-gray-500"},"检测到玩家背包违规物品时的阈值",-1))]),_:1})]),_:1},8,["model"])]),_:1}),a(t(x),{title:"初始属性",size:"small"},{default:l(()=>[a(t(T),{model:i,"label-placement":"left","label-width":"200"},{default:l(()=>[a(t(v),{label:"初始生命值",path:"startingHealth"},{default:l(()=>[a(t(b),{value:i.startingHealth,"onUpdate:value":e[3]||(e[3]=s=>i.startingHealth=s),min:100,max:500,step:50},null,8,["value"]),e[21]||(e[21]=n("span",{class:"ml-2 text-gray-500"},"新玩家初始生命值",-1))]),_:1}),a(t(v),{label:"初始魔力值",path:"startingMana"},{default:l(()=>[a(t(b),{value:i.startingMana,"onUpdate:value":e[4]||(e[4]=s=>i.startingMana=s),min:20,max:200,step:20},null,8,["value"]),e[22]||(e[22]=n("span",{class:"ml-2 text-gray-500"},"新玩家初始魔力值",-1))]),_:1})]),_:1},8,["model"]),a(t(U),{type:"warning",bordered:!1,class:"mt-4"},{icon:l(()=>[...e[23]||(e[23]=[n("i",{class:"i-mdi:alert"},null,-1)])]),default:l(()=>[e[24]||(e[24]=r(" 真正的开荒体验：初始生命100，初始魔力20 ",-1))]),_:1})]),_:1}),a(t(x),{title:"初始物品",size:"small"},{"header-extra":l(()=>[a(t(m),null,{default:l(()=>[a(t(Z),{trigger:"hover",options:$,onSelect:c},{default:l(()=>[a(t(g),{size:"small"},{icon:l(()=>[...e[25]||(e[25]=[n("i",{class:"i-mdi:package-variant"},null,-1)])]),default:l(()=>[e[26]||(e[26]=r(" 应用预设 ",-1))]),_:1})]),_:1}),a(t(g),{size:"small",type:"primary",onClick:e[5]||(e[5]=s=>I.value=!0)},{icon:l(()=>[...e[27]||(e[27]=[n("i",{class:"i-mdi:plus"},null,-1)])]),default:l(()=>[e[28]||(e[28]=r(" 添加物品 ",-1))]),_:1})]),_:1})]),default:l(()=>[i.startingInventory.length===0?(d(),R(t(X),{key:0,description:"还没有添加初始物品"},{extra:l(()=>[a(t(g),{size:"small",onClick:e[6]||(e[6]=s=>I.value=!0)},{default:l(()=>[...e[29]||(e[29]=[r("添加第一个物品",-1)])]),_:1})]),_:1})):(d(),R(t(Y),{key:1,columns:P,data:i.startingInventory,pagination:!1,bordered:!1},null,8,["data"]))]),_:1}),a(t(x),{title:"常用预设说明",size:"small"},{default:l(()=>[a(t(m),{vertical:""},{default:l(()=>[n("div",null,[a(t(k),{type:"info"},{default:l(()=>[...e[30]||(e[30]=[r("纯净开荒",-1)])]),_:1}),e[31]||(e[31]=n("span",{class:"ml-2"},"不给任何物品，完全靠自己",-1))]),n("div",null,[a(t(k),{type:"success"},{default:l(()=>[...e[32]||(e[32]=[r("基础工具",-1)])]),_:1}),e[33]||(e[33]=n("span",{class:"ml-2"},"铜镐 + 铜斧 + 铜剑，最基本的生存工具",-1))]),n("div",null,[a(t(k),{type:"warning"},{default:l(()=>[...e[34]||(e[34]=[r("舒适开局",-1)])]),_:1}),e[35]||(e[35]=n("span",{class:"ml-2"},"基础工具 + 火把 + 木材，更轻松的开始",-1))]),n("div",null,[a(t(k),{type:"error"},{default:l(()=>[...e[36]||(e[36]=[r("豪华礼包",-1)])]),_:1}),e[37]||(e[37]=n("span",{class:"ml-2"},"各种工具 + 药水 + 建材，快速开始冒险",-1))])]),_:1})]),_:1}),a(t(x),{title:"常见物品ID参考",size:"small"},{default:l(()=>[a(t(h),null,{default:l(()=>[a(t(w),{title:"基础工具",name:"tools"},{default:l(()=>[a(t(m),{vertical:"",size:"small"},{default:l(()=>[(d(!0),p(S,null,C(D.tools,s=>(d(),p("div",{key:s.id},[a(t(k),{size:"small"},{default:l(()=>[r("ID: "+f(s.id),1)]),_:2},1024),n("span",se,f(s.name),1)]))),128))]),_:1})]),_:1}),a(t(w),{title:"武器",name:"weapons"},{default:l(()=>[a(t(m),{vertical:"",size:"small"},{default:l(()=>[(d(!0),p(S,null,C(D.weapons,s=>(d(),p("div",{key:s.id},[a(t(k),{size:"small"},{default:l(()=>[r("ID: "+f(s.id),1)]),_:2},1024),n("span",ne,f(s.name),1)]))),128))]),_:1})]),_:1}),a(t(w),{title:"材料",name:"materials"},{default:l(()=>[a(t(m),{vertical:"",size:"small"},{default:l(()=>[(d(!0),p(S,null,C(D.materials,s=>(d(),p("div",{key:s.id},[a(t(k),{size:"small"},{default:l(()=>[r("ID: "+f(s.id),1)]),_:2},1024),n("span",ie,f(s.name),1)]))),128))]),_:1})]),_:1}),a(t(w),{title:"药水",name:"potions"},{default:l(()=>[a(t(m),{vertical:"",size:"small"},{default:l(()=>[(d(!0),p(S,null,C(D.potions,s=>(d(),p("div",{key:s.id},[a(t(k),{size:"small"},{default:l(()=>[r("ID: "+f(s.id),1)]),_:2},1024),n("span",re,f(s.name),1)]))),128))]),_:1})]),_:1})]),_:1}),a(t(U),{type:"info",bordered:!1,class:"mt-4"},{icon:l(()=>[...e[38]||(e[38]=[n("i",{class:"i-mdi:link-variant"},null,-1)])]),default:l(()=>[e[39]||(e[39]=r(" 完整物品ID列表请访问： ",-1)),e[40]||(e[40]=n("a",{href:"https://terraria.wiki.gg/zh/wiki/%E7%89%A9%E5%93%81ID",target:"_blank",class:"text-blue-500"}," 泰拉瑞亚Wiki - 物品ID ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),a(t(le),{show:I.value,"onUpdate:show":e[11]||(e[11]=s=>I.value=s),preset:"card",title:"添加初始物品",style:{width:"600px"}},{footer:l(()=>[a(t(m),{justify:"end"},{default:l(()=>[a(t(g),{onClick:e[10]||(e[10]=s=>I.value=!1)},{default:l(()=>[...e[41]||(e[41]=[r("取消",-1)])]),_:1}),a(t(g),{type:"primary",onClick:E},{default:l(()=>[...e[42]||(e[42]=[r("添加",-1)])]),_:1})]),_:1})]),default:l(()=>[a(t(T),{ref_key:"itemFormRef",ref:M,model:o,rules:F,"label-placement":"left","label-width":"120"},{default:l(()=>[a(t(v),{label:"物品ID",path:"netID"},{default:l(()=>[a(t(b),{value:o.netID,"onUpdate:value":e[7]||(e[7]=s=>o.netID=s),min:1,max:5455,placeholder:"如：3 = 铜镐"},null,8,["value"])]),_:1}),a(t(v),{label:"物品前缀",path:"prefix"},{default:l(()=>[a(t(ee),{value:o.prefix,"onUpdate:value":e[8]||(e[8]=s=>o.prefix=s),options:V,placeholder:"选择前缀（可选）"},null,8,["value"])]),_:1}),a(t(v),{label:"数量",path:"stack"},{default:l(()=>[a(t(b),{value:o.stack,"onUpdate:value":e[9]||(e[9]=s=>o.stack=s),min:1,max:9999},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]))}}),fe=te(oe,[["__scopeId","data-v-83e12a6c"]]);export{fe as default};
