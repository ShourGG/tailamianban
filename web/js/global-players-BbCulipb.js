import{am as Q,aG as E,ab as _,S as k,aF as g,K as m,J as f,H as i,V as I,aa as G,P as z,Q as y,X as J,Y as T,a4 as S}from"./ui-vendor-C2DiPTQI.js";import{k as R,r as o,Q as X,R as Y,S as l,U as t,K as a,m as w,V as C,j as r}from"./vue-vendor-B-HGZVTd.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"global-players-page"},le=R({__name:"global-players",setup(ae){const d=Q(),V=E(),h=o(""),U=o(""),$=o("all"),p=o(!1),b=o(!1),u=o({type:"username",value:"",reason:"",duration:-1}),v=o({username:"",note:""}),B=[{label:"全部服务器",value:"all"},{label:"生存服",value:"1"},{label:"Mod服",value:"2"}],M=o([{username:"Player1",server:"生存服",ip:"192.168.1.100",playtime:"2小时30分",status:"在线"},{username:"Player2",server:"Mod服",ip:"192.168.1.101",playtime:"1小时15分",status:"在线"}]),x=o([{username:"Cheater1",ip:"192.168.1.200",reason:"使用作弊器",banTime:"2024-01-15 10:00:00",duration:"永久",operator:"Admin"}]),P=o([{username:"VIPPlayer",addTime:"2024-01-10 12:00:00",note:"VIP玩家",operator:"Admin"}]),A=o([{username:"Player1",server:"生存服",lastLogin:"2024-01-20 15:30:00",totalPlaytime:"50小时",visits:125}]),N=[{title:"用户名",key:"username",width:150},{title:"服务器",key:"server",width:120},{title:"IP地址",key:"ip",width:150},{title:"在线时长",key:"playtime",width:120},{title:"操作",key:"actions",width:200,fixed:"right",render:s=>w(m,{size:"small"},()=>[w(i,{size:"small",type:"warning",onClick:()=>c(s)},()=>"踢出"),w(i,{size:"small",type:"error",onClick:()=>D(s)},()=>"封禁")])}],j=[{title:"用户名",key:"username",width:150},{title:"IP地址",key:"ip",width:150},{title:"封禁原因",key:"reason"},{title:"封禁时间",key:"banTime",width:180},{title:"时长",key:"duration",width:100},{title:"操作员",key:"operator",width:100},{title:"操作",key:"actions",width:100,fixed:"right",render:s=>w(i,{size:"small",onClick:()=>H(s)},()=>"解封")}],q=[{title:"用户名",key:"username",width:150},{title:"添加时间",key:"addTime",width:180},{title:"备注",key:"note"},{title:"操作员",key:"operator",width:100},{title:"操作",key:"actions",width:100,fixed:"right",render:s=>w(i,{size:"small",type:"error",onClick:()=>O(s)},()=>"移除")}],F=[{title:"用户名",key:"username",width:150},{title:"服务器",key:"server",width:120},{title:"最后登录",key:"lastLogin",width:180},{title:"总游戏时长",key:"totalPlaytime",width:120},{title:"访问次数",key:"visits",width:100}],W=()=>{d.success("在线玩家列表已刷新")},c=s=>{V.warning({title:"确认踢出",content:`确定要踢出玩家 "${s.username}" 吗？`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{d.success(`已踢出玩家: ${s.username}`)}})},D=s=>{u.value={type:"username",value:s.username,reason:"",duration:-1},p.value=!0},H=s=>{const e=x.value.findIndex(n=>n.username===s.username);e>-1&&x.value.splice(e,1),d.success(`${s.username} 已解封`)},K=()=>{if(!u.value.value){d.error("请填写完整信息");return}d.success("封禁添加成功"),p.value=!1},L=()=>{if(!v.value.username){d.error("请输入用户名");return}d.success("白名单添加成功"),b.value=!1},O=s=>{const e=P.value.findIndex(n=>n.username===s.username);e>-1&&P.value.splice(e,1),d.success(`${s.username} 已从白名单移除`)};return(s,e)=>(Y(),X("div",ee,[l(a(G),{type:"line",animated:""},{default:t(()=>[l(a(_),{name:"online",tab:"在线玩家"},{default:t(()=>[l(a(k),null,{"header-extra":t(()=>[l(a(m),null,{default:t(()=>[l(a(f),{value:h.value,"onUpdate:value":e[0]||(e[0]=n=>h.value=n),placeholder:"搜索玩家...",clearable:"",style:{width:"200px"}},{prefix:t(()=>[...e[15]||(e[15]=[C("div",{class:"i-mdi:magnify"},null,-1)])]),_:1},8,["value"]),l(a(i),{onClick:W},{default:t(()=>[...e[16]||(e[16]=[r("刷新",-1)])]),_:1})]),_:1})]),default:t(()=>[l(a(g),{columns:N,data:M.value,pagination:{pageSize:20},bordered:!1},null,8,["data"])]),_:1})]),_:1}),l(a(_),{name:"banned",tab:"黑名单"},{default:t(()=>[l(a(k),null,{"header-extra":t(()=>[l(a(i),{type:"primary",onClick:e[1]||(e[1]=n=>p.value=!0)},{icon:t(()=>[...e[17]||(e[17]=[C("div",{class:"i-mdi:plus"},null,-1)])]),default:t(()=>[e[18]||(e[18]=r(" 添加封禁 ",-1))]),_:1})]),default:t(()=>[l(a(g),{columns:j,data:x.value,pagination:{pageSize:20},bordered:!1},null,8,["data"])]),_:1})]),_:1}),l(a(_),{name:"whitelist",tab:"白名单"},{default:t(()=>[l(a(k),null,{"header-extra":t(()=>[l(a(i),{type:"primary",onClick:e[2]||(e[2]=n=>b.value=!0)},{icon:t(()=>[...e[19]||(e[19]=[C("div",{class:"i-mdi:plus"},null,-1)])]),default:t(()=>[e[20]||(e[20]=r(" 添加白名单 ",-1))]),_:1})]),default:t(()=>[l(a(g),{columns:q,data:P.value,pagination:{pageSize:20},bordered:!1},null,8,["data"])]),_:1})]),_:1}),l(a(_),{name:"history",tab:"玩家历史"},{default:t(()=>[l(a(k),null,{"header-extra":t(()=>[l(a(m),null,{default:t(()=>[l(a(f),{value:U.value,"onUpdate:value":e[3]||(e[3]=n=>U.value=n),placeholder:"搜索玩家...",clearable:"",style:{width:"200px"}},null,8,["value"]),l(a(I),{value:$.value,"onUpdate:value":e[4]||(e[4]=n=>$.value=n),options:B,style:{width:"150px"}},null,8,["value"])]),_:1})]),default:t(()=>[l(a(g),{columns:F,data:A.value,pagination:{pageSize:20},bordered:!1},null,8,["data"])]),_:1})]),_:1})]),_:1}),l(a(S),{show:p.value,"onUpdate:show":e[10]||(e[10]=n=>p.value=n),preset:"card",title:"添加封禁",style:{width:"600px"}},{footer:t(()=>[l(a(m),{justify:"end"},{default:t(()=>[l(a(i),{onClick:e[9]||(e[9]=n=>p.value=!1)},{default:t(()=>[...e[23]||(e[23]=[r("取消",-1)])]),_:1}),l(a(i),{type:"primary",onClick:K},{default:t(()=>[...e[24]||(e[24]=[r("添加封禁",-1)])]),_:1})]),_:1})]),default:t(()=>[l(a(z),{model:u.value,"label-placement":"left","label-width":"120px"},{default:t(()=>[l(a(y),{label:"封禁方式",required:""},{default:t(()=>[l(a(J),{value:u.value.type,"onUpdate:value":e[5]||(e[5]=n=>u.value.type=n)},{default:t(()=>[l(a(m),null,{default:t(()=>[l(a(T),{value:"username"},{default:t(()=>[...e[21]||(e[21]=[r("用户名",-1)])]),_:1}),l(a(T),{value:"ip"},{default:t(()=>[...e[22]||(e[22]=[r("IP地址",-1)])]),_:1})]),_:1})]),_:1},8,["value"])]),_:1}),l(a(y),{label:u.value.type==="username"?"用户名":"IP地址",required:""},{default:t(()=>[l(a(f),{value:u.value.value,"onUpdate:value":e[6]||(e[6]=n=>u.value.value=n),placeholder:u.value.type==="username"?"输入玩家用户名":"输入IP地址"},null,8,["value","placeholder"])]),_:1},8,["label"]),l(a(y),{label:"封禁原因"},{default:t(()=>[l(a(f),{value:u.value.reason,"onUpdate:value":e[7]||(e[7]=n=>u.value.reason=n),type:"textarea",rows:3,placeholder:"选填，说明封禁原因"},null,8,["value"])]),_:1}),l(a(y),{label:"封禁时长"},{default:t(()=>[l(a(I),{value:u.value.duration,"onUpdate:value":e[8]||(e[8]=n=>u.value.duration=n),options:[{label:"永久",value:-1},{label:"1小时",value:1},{label:"24小时",value:24},{label:"7天",value:168},{label:"30天",value:720}]},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"]),l(a(S),{show:b.value,"onUpdate:show":e[14]||(e[14]=n=>b.value=n),preset:"card",title:"添加白名单",style:{width:"500px"}},{footer:t(()=>[l(a(m),{justify:"end"},{default:t(()=>[l(a(i),{onClick:e[13]||(e[13]=n=>b.value=!1)},{default:t(()=>[...e[25]||(e[25]=[r("取消",-1)])]),_:1}),l(a(i),{type:"primary",onClick:L},{default:t(()=>[...e[26]||(e[26]=[r("添加",-1)])]),_:1})]),_:1})]),default:t(()=>[l(a(z),{model:v.value,"label-placement":"left","label-width":"80px"},{default:t(()=>[l(a(y),{label:"用户名",required:""},{default:t(()=>[l(a(f),{value:v.value.username,"onUpdate:value":e[11]||(e[11]=n=>v.value.username=n),placeholder:"输入玩家用户名"},null,8,["value"])]),_:1}),l(a(y),{label:"备注"},{default:t(()=>[l(a(f),{value:v.value.note,"onUpdate:value":e[12]||(e[12]=n=>v.value.note=n),placeholder:"选填"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]))}}),ue=Z(le,[["__scopeId","data-v-0e55ffc2"]]);export{ue as default};
