const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/charts-vendor-CvHUaZlk.js","js/vue-vendor-Bom1XEVO.js","js/ui-vendor-lRdd6BJd.js"])))=>i.map(i=>d[i]);
import{_ as ee}from"./spline-vendor-Cs6wJgUK.js";import te from"./index-n1fYESeX.js";import re from"./index-DP8QyUpt.js";import{aA as oe,aO as ie,a0 as ne,P as ae,a1 as se,L as le}from"./ui-vendor-lRdd6BJd.js";import{k as de,r as k,e as ce,c as F,Q as h,R as f,V as g,S as v,U as R,j as B,F as S,N as E,Y as j,$ as D,_ as pe,K as W,a3 as ue}from"./vue-vendor-Bom1XEVO.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./iconify-W0kOH8CK.js";import"./index-Chx56wke.js";const _={BAR_LIGHT:["#aecde6","#c6a49a","#ffb582","#eec1de","#b3d9b3","#cccccc","#e59a9c","#d9d1a5","#c9bede"],BAR_DARK:["#1f77b4","#8c564b","#ff7f0e","#e377c2","#2ca02c","#7f7f7f","#d62728","#bcbd22","#9467bd"],BACKGROUND:"#f0f0fb",BORDER:"#e1e4e8",GRID_LINE:"#d5d9ee"},A={PROJECT_START:"2024-07-20",PROJECT_END:"2024-08-15",BASE_YEAR:2024,BASE_DAY:24},x={HEADER_ROW_HEIGHT:60,ROW_HEIGHT:80,TASK_BAR_WIDTH:60,TIMELINE_COL_WIDTH:80,TASK_COLUMN_WIDTH:200},p="liufangfang.jane@bytedance.com",ge="https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/VTable/custom-render/",me=[{name:"basic",description:"基础配置，简洁易用，适合快速开始和轻量级项目管理"},{name:"project",description:"项目管理配置，功能丰富，支持编辑、排序、优先级等",note:"• 双击单元格编辑 • 拖拽任务条移动/调整大小 • 树形结构展现层级关系 • 默认展开2层"},{name:"timeline",description:"时间线配置，适合事件展示和历史记录"},{name:"milestone",description:"里程碑配置，专门展示重要节点"},{name:"official",description:"官方示例配置，完全复刻官方demo，默认展开2层"},{name:"custom",description:"自定义渲染，展示高级customLayout功能"}],L=(e,o,a)=>`${e}-${o.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`,b=(e,o)=>{const a=new Date(e);return a.setDate(a.getDate()+o),L(a.getFullYear(),a.getMonth()+1,a.getDate())},i=e=>{const o={id:e.id,title:e.title,start:e.start};return e.end&&(o.end=e.end),e.progress!==void 0&&(o.progress=e.progress),e.priority&&(o.priority=e.priority),e.type&&(o.type=e.type),e.developer&&(o.developer=e.developer),e.avatar&&(o.avatar=e.avatar),e.children&&(o.children=e.children),o},he=()=>{const e=L(A.BASE_YEAR,1,1);return[i({id:1,title:"项目启动",start:e,end:b(e,4),progress:100}),i({id:2,title:"需求分析",start:b(e,5),end:b(e,14),progress:80}),i({id:3,title:"系统设计",start:b(e,15),end:b(e,24),progress:60}),i({id:4,title:"开发实现",start:b(e,25),end:b(e,45),progress:30}),i({id:5,title:"测试验收",start:b(e,46),end:b(e,55),progress:0})]},_e=()=>[i({id:1,title:"软件开发项目",developer:"张三",start:"2024-07-24",end:"2024-08-15",progress:31,priority:"P0",children:[i({id:2,title:"项目需求评审",developer:"李四",start:"2024-07-24",end:"2024-07-26",progress:100,priority:"P0"}),i({id:3,title:"确定项目范围",developer:"王五",start:"2024-07-27",end:"2024-07-29",progress:100,priority:"P1"}),i({id:4,title:"功能开发",developer:"赵六",start:"2024-08-01",end:"2024-08-15",progress:0,priority:"P1"})]}),i({id:5,title:"测试验收",developer:"钱七",start:"2024-08-10",end:"2024-08-20",progress:60,priority:"P0"})],be=()=>[i({id:1,title:"公司成立",start:"2020-01-15",end:"2020-01-15",type:"milestone"}),i({id:2,title:"第一轮融资",start:"2020-06-01",end:"2020-08-31",progress:100}),i({id:3,title:"产品上线",start:"2021-03-01",end:"2021-03-01",type:"milestone"}),i({id:4,title:"市场推广",start:"2021-04-01",end:"2021-12-31",progress:85}),i({id:5,title:"第二轮融资",start:"2022-01-01",end:"2022-03-31",progress:100})],ye=()=>[{title:"项目启动会",date:"2024-01-01",priority:"高"},{title:"Alpha版本发布",date:"2024-02-15",priority:"高"},{title:"Beta版本发布",date:"2024-04-01",priority:"中"},{title:"正式版发布",date:"2024-06-01",priority:"高"},{title:"用户培训完成",date:"2024-07-15",priority:"中"}].map((o,a)=>i({id:a+1,title:o.title,start:o.date,priority:o.priority,type:"milestone"})),Te=()=>[i({id:1,title:"Software Development",developer:p,start:"2024-07-24",end:"2024-08-15",progress:31,priority:"P0",children:[i({id:2,title:"Project Feature Review",developer:p,start:"2024-07-24",end:"2024-07-24",progress:60,priority:"P0"}),i({id:3,title:"Determine project scope",developer:p,start:"2024-07-25",end:"2024-07-26",progress:100,priority:"P1"}),i({id:4,title:"Project Create",developer:p,start:"2024-07-27",end:"2024-07-27",progress:100,priority:"P1",type:"milestone"}),i({id:5,title:"Develop feature 1",developer:p,start:"2024-08-01",end:"2024-08-15",progress:0,priority:"P1"})]}),i({id:6,title:"Scope Planning",developer:p,start:"2024-07-24",end:"2024-08-04",progress:60,priority:"P0"}),i({id:7,title:"Architecture Design",developer:p,start:"2024-07-24",end:"2024-08-04",progress:100,priority:"P1",children:[i({id:8,title:"Database Design",developer:p,start:"2024-08-01",end:"2024-08-01",progress:90,priority:"P0"}),i({id:9,title:"API Design",developer:p,start:"2024-07-30",end:"2024-08-04",progress:31,priority:"P0"}),i({id:10,title:"UI Framework",developer:p,start:"2024-07-26",end:"2024-07-28",progress:60,priority:"P0"})]}),i({id:11,title:"Milestone Review",developer:p,start:"2024-07-29",type:"milestone"}),i({id:12,title:"Testing Phase",developer:p,start:"2024-07-26",end:"2024-07-28",progress:60,priority:"P0",children:[i({id:13,title:"Unit Testing",developer:p,start:"2024-07-29",end:"2024-07-31",progress:100,priority:"P1"}),i({id:14,title:"Integration Testing",developer:p,start:"2024-07-24",end:"2024-08-04",progress:31,priority:"P0"}),i({id:15,title:"Performance Testing",developer:p,start:"2024-07-26",end:"2024-07-28",progress:60,priority:"P0"})]})],De=()=>[{name:"bear",dev:"bear.xiong",ext:"jpg"},{name:"wolf",dev:"wolf.lang",ext:"jpg"},{name:"rabbit",dev:"rabbit.tu",ext:"jpg"},{name:"cat",dev:"cat.mao",ext:"jpg"},{name:"bird",dev:"bird.niao",ext:"jpeg"},{name:"flower",dev:"flower.hua",ext:"jpg"}].map((o,a)=>i({id:a+1,title:`Project Task ${a+1}`,developer:o.dev,avatar:`${ge}${o.name}.${o.ext}`,start:L(2024,7,A.BASE_DAY+Math.floor(a*1.5)),end:L(2024,8,Math.min(10,1+Math.floor(a*1.5))),progress:a%3===2?100:a%3===1?60:31,priority:a%2===0?"P0":"P1"})),ve={basic:he,project:_e,timeline:be,milestone:ye,official:Te,custom:De},Re=()=>{const e={};return Object.entries(ve).forEach(([o,a])=>{e[o]=a()}),e},we=(e,o,a)=>({overscrollBehavior:"none",headerRowHeight:x.HEADER_ROW_HEIGHT,rowHeight:x.ROW_HEIGHT,minDate:A.PROJECT_START,maxDate:A.PROJECT_END,taskListTable:{columns:[{field:"title",title:"TASK",width:x.TASK_COLUMN_WIDTH,headerStyle:{textAlign:"center",fontSize:20,fontWeight:"bold",color:"black",bgColor:_.BACKGROUND},style:{bgColor:_.BACKGROUND},customLayout:e(_.BAR_DARK)}],tableWidth:"auto",theme:{headerStyle:{borderColor:_.BORDER,borderLineWidth:0,fontSize:18,fontWeight:"bold",color:"red"},bodyStyle:{borderColor:_.BORDER,borderLineWidth:0,fontSize:16,color:"#4D4D4D",bgColor:"#FFF"}}},frame:{outerFrameStyle:{borderLineWidth:0,borderColor:"red",cornerRadius:8}},grid:{backgroundColor:_.BACKGROUND,horizontalLine:{lineWidth:2,lineColor:_.GRID_LINE}},taskBar:{startDateField:"start",endDateField:"end",progressField:"progress",barStyle:{width:x.TASK_BAR_WIDTH},customLayout:o(_.BAR_LIGHT,_.BAR_DARK),hoverBarStyle:{cornerRadius:30}},timelineHeader:{backgroundColor:_.BACKGROUND,colWidth:x.TIMELINE_COL_WIDTH,scales:[{unit:"day",step:1,format:C=>C.dateIndex.toString(),customLayout:a()}]},markLine:[{date:"2024-07-29",style:{lineWidth:1,lineColor:"blue",lineDash:[8,4]}},{date:"2024-08-17",style:{lineWidth:2,lineColor:"red",lineDash:[8,4]}}],scrollStyle:{scrollRailColor:"RGBA(246,246,246,0.5)",visible:"focus",width:6,scrollSliderCornerRadius:2,scrollSliderColor:"#5cb85c"}}),xe={markLine:[{date:"2024-08-01",style:{lineWidth:2,lineColor:"#ff4d4f",lineDash:[5,5]}}]},Ce={class:"gantt-demo-page"},Pe={class:"demo-header"},Se={class:"demo-content"},Ee={class:"demo-section"},Ae={class:"section-header"},Le={key:0,class:"usage-tips"},Ie={key:0,class:"demo-controls"},Oe={class:"config-docs"},ke={class:"config-list"},Be={key:0,class:"config-note"},je=de({__name:"index",setup(e){const o=oe(),a=k("basic"),C=k({}),I=ce({basic:!0,project:!0}),P=k(Re()),$=(n,r)=>{r&&(C.value[n]=r)},U=n=>r=>{const{table:c,row:l,col:s,rect:u}=r,m=c.getCellOriginRecord(s,l),{height:y,width:T}=u??c.getCellRect(s,l),t=window.VTableGantt?.VRender;if(!t)return{rootContainer:null};const d=new t.Group({y:10,x:20,height:y-20,width:T-40,fill:"white",display:"flex",flexDirection:"column",cornerRadius:30});return d.add(new t.Text({text:m.developer,fontSize:16,fontFamily:"sans-serif",fill:n[r.row%n.length],fontWeight:"bold",maxLineWidth:T-120,boundsPadding:[10,0,0,0],alignSelf:"center"})),d.add(new t.Text({text:`${new Date(m.start).toLocaleDateString()}-${new Date(m.end).toLocaleDateString()}`,fontSize:12,fontFamily:"sans-serif",fontWeight:"bold",fill:"black",boundsPadding:[10,0,0,0],alignSelf:"center"})),{rootContainer:d,expectedWidth:160}},z=(n,r)=>c=>{const{width:l,height:s,index:u,taskDays:m,progress:y,taskRecord:T}=c,t=window.VTableGantt?.VRender;if(!t)return{rootContainer:null};const d=r.length,w=new t.Group({width:l,height:s,cornerRadius:30,fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:[{offset:0,color:n[u%d]},{offset:.5,color:r[u%d]},{offset:1,color:n[u%d]}]},display:"flex",flexDirection:"row",flexWrap:"nowrap"}),H=new t.Group({height:s,width:60,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"});H.add(new t.Image({width:50,height:50,image:T.avatar,cornerRadius:25})),w.add(H);const O=new t.Group({height:s,width:l-(l>=120?120:60),display:"flex",flexDirection:"column"});if(O.add(new t.Text({text:T.developer,fontSize:16,fontFamily:"sans-serif",fill:"white",fontWeight:"bold",maxLineWidth:l-(l>=120?120:60),boundsPadding:[10,0,0,0]})),O.add(new t.Text({text:`${m||1}天`,fontSize:13,fontFamily:"sans-serif",fill:"white",boundsPadding:[10,0,0,0]})),w.add(O),l>=120){const V=new t.Group({cornerRadius:20,fill:"white",height:40,width:40,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boundsPadding:[10,0,0,0]});V.add(new t.Text({text:`${y||0}%`,fontSize:12,fontFamily:"sans-serif",fill:"black",alignSelf:"center",fontWeight:"bold",maxLineWidth:(l-60)/2,boundsPadding:[0,0,0,0]})),w.add(V)}return{rootContainer:w}},K=()=>n=>{const{width:r,height:c,dateIndex:l}=n,s=window.VTableGantt?.VRender;if(!s)return{rootContainer:null};const u=new s.Group({width:r,height:c,fill:"#f0f0fb",display:"flex",flexDirection:"row",flexWrap:"nowrap"}),m=new s.Group({height:c,width:30,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"});m.add(new s.Text({text:"📅",fontSize:16})),u.add(m);const y=new s.Group({height:c,width:r-30,display:"flex",flexDirection:"column"});return y.add(new s.Text({text:String(l).padStart(2,"0"),fontSize:20,fontWeight:"bold",fontFamily:"sans-serif",fill:"black",textAlign:"right",maxLineWidth:r-30,boundsPadding:[15,0,0,0]})),u.add(y),{rootContainer:u}},M=[{name:"basic",label:"基础甘特图",title:'基础甘特图 (preset="basic")',description:"简洁的基础配置，适用于简单的任务管理和项目概览。",preset:"basic",ganttTitle:"基础项目管理",height:"580px",controls:[{action:"addBasicTask",label:"添加任务",icon:"carbon:add",type:"primary"},{action:"updateBasicProgress",label:"更新进度",icon:"carbon:chart-line"}]},{name:"project",label:"项目管理",title:'项目管理甘特图 (preset="project")',description:"功能完整的项目管理配置，包含编辑器、优先级、行序号等专业功能。",preset:"project",ganttTitle:"软件开发项目",height:"680px",tips:["双击表格单元格可以编辑任务信息（任务名称、开始时间、结束时间、优先级、进度）","拖拽任务条可以移动任务时间，支持实时调整项目进度","拖拽任务条两端可以调整任务持续时间","支持树形结构展示，清晰展现任务层级关系，默认展开2层","点击全屏按钮进入浏览器全屏模式，按ESC键退出"],controls:[{action:"addProjectSubTask",label:"添加子任务",icon:"carbon:add-alt",type:"primary"},{action:"updateProjectProgress",label:"更新进度",icon:"carbon:chart-histogram"},{action:"toggleProjectExpand",label:F(()=>I.project?"收起全部":"展开全部"),icon:"carbon:tree-view"}],options:xe},{name:"timeline",label:"时间线",title:'时间线甘特图 (preset="timeline")',description:"适用于事件时间线、历史记录展示和重要事件跟踪。",preset:"timeline",ganttTitle:"公司发展历程",height:"610px"},{name:"milestone",label:"里程碑",title:'里程碑甘特图 (preset="milestone")',description:"专门用于重要节点和里程碑的展示，突出关键时间点。",preset:"milestone",ganttTitle:"项目关键节点",height:"560px"},{name:"official",label:"官方示例",title:'官方示例甘特图 (preset="official")',description:"完全复刻官方演示的配置和数据，展示最真实的效果和完整功能。",preset:"official",ganttTitle:"Official Demo",height:"750px"},{name:"custom",label:"自定义渲染",title:"自定义渲染甘特图",description:"展示自定义渲染的强大功能，包含头像、进度、渐变色等高级视觉效果。",preset:"custom",ganttTitle:"团队任务看板",height:"710px",options:F(()=>we(U,z,K))}],Y={addBasicTask:()=>G("basic"),updateBasicProgress:()=>N("basic"),addProjectSubTask:()=>G("project"),updateProjectProgress:()=>N("project"),toggleProjectExpand:()=>Q("project")},J=n=>{const r=Y[n];r?.()},G=n=>{const r={id:Date.now(),title:`新任务 ${Date.now()}`,start:n==="basic"?"2024-02-26":"2024-08-16",end:n==="basic"?"2024-03-05":"2024-08-20",progress:0};if(n==="basic")P.value.basic.push(r),o.success(`添加了新任务: ${r.title}`);else{const c={...r,developer:"新成员",priority:"P2"};P.value.project[0]?.children?.push(c),o.success(`添加了新子任务: ${c.title}`)}},N=n=>{const r=n==="basic"?15:10,c=l=>{l.forEach(s=>{s.progress!==void 0&&s.progress<100&&(s.progress=Math.min(100,s.progress+r)),s.children&&c(s.children)})};c(P.value[n]),o.success(`批量更新了${n==="basic"?"基础":"项目"}任务进度`)},Q=n=>{const r=C.value[n];if(!r?.ganttInstance){o.warning("甘特图实例未找到");return}try{const c=r.ganttInstance,l=I[n];c[l?"collapseAll":"expandAll"]?.(),I[n]=!l,o.success(`已${l?"收起":"展开"}所有任务`)}catch{o.warning("操作失败，请稍后重试")}},q=n=>{window.VTableGantt||ee(()=>import("./charts-vendor-CvHUaZlk.js").then(r=>r.v),__vite__mapDeps([0,1,2])).then(r=>{window.VTableGantt=r}).catch(r=>{})},X=n=>{o.info(`点击了任务: ${n.title}`)},Z=n=>{o.error("甘特图加载失败，请刷新页面重试")};return(n,r)=>{const c=ie,l=re,s=ae,u=te,m=ne,y=se,T=le;return f(),h("div",Ce,[g("div",Pe,[v(c,{class:"demo-title"},{default:R(()=>[...r[1]||(r[1]=[B("甘特图组件场景示例",-1)])]),_:1})]),g("div",Se,[v(y,{value:W(a),"onUpdate:value":r[0]||(r[0]=t=>ue(a)?a.value=t:null),type:"line",animated:""},{default:R(()=>[(f(),h(S,null,E(M,t=>v(m,{key:t.name,name:t.name,tab:t.label},{default:R(()=>[g("div",Ee,[g("div",Ae,[g("h2",null,D(t.title),1),g("p",null,D(t.description),1),t.tips?(f(),h("div",Le,[r[2]||(r[2]=g("strong",null,"使用说明：",-1)),g("ul",null,[(f(!0),h(S,null,E(t.tips,d=>(f(),h("li",{key:d},D(d),1))),128))])])):j("",!0)]),t.controls?(f(),h("div",Ie,[(f(!0),h(S,null,E(t.controls,d=>(f(),pe(s,{key:d.action,type:d.type||"default",size:"small",onClick:w=>J(d.action)},{icon:R(()=>[v(l,{name:d.icon,size:16,color:"currentColor"},null,8,["name"])]),default:R(()=>[B(" "+D(typeof d.label=="string"?d.label:d.label.value),1)]),_:2},1032,["type","onClick"]))),128))])):j("",!0),v(u,{ref_for:!0,ref:d=>$(t.name,d),data:W(P)[t.name],preset:t.preset,title:t.ganttTitle,options:t.options,height:t.height||"600px",onGanttCreated:q,onTaskClick:X,onError:Z},null,8,["data","preset","title","options","height"])])]),_:2},1032,["name","tab"])),64))]),_:1},8,["value"])]),g("div",Oe,[v(T,{title:"预设配置说明",size:"small"},{default:R(()=>[g("div",ke,[(f(!0),h(S,null,E(W(me),t=>(f(),h("div",{key:t.name,class:"config-item"},[g("strong",null,D(t.name),1),B(" - "+D(t.description)+" ",1),t.note?(f(),h("div",Be,D(t.note),1)):j("",!0)]))),128))])]),_:1})])])}}}),ze=fe(je,[["__scopeId","data-v-97facaeb"]]);export{ze as default};
