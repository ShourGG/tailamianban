import{P as i,R as N,_ as ne}from"./index.vue_vue_type_script_setup_true_lang-BnkEbK8L.js";import{u as se}from"./index-BZTNXJGj.js";import{aA as ue,U as ie,P as de,S as ce,L as pe,a1 as me,a0 as fe,T as ye}from"./ui-vendor-lRdd6BJd.js";import{k as he,aJ as $,aK as be,r as P,L as ge,c as V,o as ve,Q as R,R as k,S as o,_ as w,Y as _e,K as l,U as t,j as y,$ as v,V as j,F as Me,N as ke}from"./vue-vendor-Bom1XEVO.js";import{u as Fe}from"./index-COuCnG4I.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C3XsA_P_.js";import"./charts-vendor-CvHUaZlk.js";import"./editor-vendor-D83MfH0r.js";import"./index-CkMMG6vV.js";import"./spline-vendor-Cs6wJgUK.js";const q=[{type:"input",prop:"employeeId",label:"å‘˜å·¥ç¼–å·",placeholder:"è¯·è¾“å…¥å‘˜å·¥ç¼–å·",rules:[i.required("å‘˜å·¥ç¼–å·"),i.pattern("å‘˜å·¥ç¼–å·",/^EMP\d{6}$/,"æ ¼å¼: EMP123456")],layout:{group:"basic"}},{type:"input",prop:"fullName",label:"å§“å",placeholder:"è¯·è¾“å…¥çœŸå®å§“å",rules:N.username("å§“å"),layout:{group:"basic"}},{type:"select",prop:"gender",label:"æ€§åˆ«",placeholder:"è¯·é€‰æ‹©æ€§åˆ«",rules:[i.required("æ€§åˆ«")],children:[{value:"male",label:"ç”·"},{value:"female",label:"å¥³"}],layout:{group:"basic"}},{type:"datePicker",prop:"birthDate",label:"å‡ºç”Ÿæ—¥æœŸ",placeholder:"è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ",rules:[i.required("å‡ºç”Ÿæ—¥æœŸ")],layout:{group:"basic"}},{type:"input",prop:"phone",label:"æ‰‹æœºå·ç ",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",rules:N.mobile("æ‰‹æœºå·ç "),layout:{group:"contact"}},{type:"input",prop:"email",label:"é‚®ç®±åœ°å€",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",rules:N.email("é‚®ç®±åœ°å€"),layout:{group:"contact"}},{type:"textarea",prop:"address",label:"å±…ä½åœ°å€",placeholder:"è¯·è¾“å…¥è¯¦ç»†åœ°å€",rules:[i.required("å±…ä½åœ°å€"),i.length("å±…ä½åœ°å€",10,200)],attrs:{rows:3},layout:{group:"contact"}},{type:"select",prop:"department",label:"æ‰€å±éƒ¨é—¨",placeholder:"è¯·é€‰æ‹©éƒ¨é—¨",rules:[i.required("æ‰€å±éƒ¨é—¨")],children:[{value:"tech",label:"æŠ€æœ¯éƒ¨"},{value:"product",label:"äº§å“éƒ¨"},{value:"design",label:"è®¾è®¡éƒ¨"},{value:"marketing",label:"å¸‚åœºéƒ¨"},{value:"hr",label:"äººäº‹éƒ¨"}],layout:{group:"job"}},{type:"select",prop:"position",label:"èŒä½",placeholder:"è¯·é€‰æ‹©èŒä½",rules:[i.required("èŒä½")],children:[{value:"frontend",label:"å‰ç«¯å·¥ç¨‹å¸ˆ"},{value:"backend",label:"åç«¯å·¥ç¨‹å¸ˆ"},{value:"fullstack",label:"å…¨æ ˆå·¥ç¨‹å¸ˆ"},{value:"ui",label:"UIè®¾è®¡å¸ˆ"},{value:"pm",label:"äº§å“ç»ç†"}],layout:{group:"job"}},{type:"datePicker",prop:"joinDate",label:"å…¥èŒæ—¥æœŸ",placeholder:"è¯·é€‰æ‹©å…¥èŒæ—¥æœŸ",rules:[i.required("å…¥èŒæ—¥æœŸ")],layout:{group:"job"}},{type:"inputNumber",prop:"salary",label:"è–ªèµ„",placeholder:"è¯·è¾“å…¥è–ªèµ„",rules:[i.required("è–ªèµ„"),i.range("è–ªèµ„",3e3,5e4)],attrs:{min:3e3,max:5e4,precision:0},layout:{group:"job"}},{type:"checkbox",prop:"skills",label:"æŠ€èƒ½æ ‡ç­¾",rules:[i.required("æŠ€èƒ½æ ‡ç­¾")],children:[{value:"vue",label:"Vue.js"},{value:"react",label:"React"},{value:"node",label:"Node.js"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"design",label:"è®¾è®¡èƒ½åŠ›"}],value:[],layout:{group:"other"}},{type:"rate",prop:"performance",label:"ç»©æ•ˆè¯„åˆ†",rules:[i.required("ç»©æ•ˆè¯„åˆ†")],attrs:{allowHalf:!0,count:5},value:0,layout:{group:"other"}},{type:"switch",prop:"isActive",label:"åœ¨èŒçŠ¶æ€",value:!0,layout:{group:"other"}},{type:"textarea",prop:"remarks",label:"å¤‡æ³¨ä¿¡æ¯",placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯",attrs:{rows:4},layout:{group:"other"}}],L={employeeId:()=>`EMP${String(Math.floor(Math.random()*999999)).padStart(6,"0")}`,fullName:()=>["å¼ ä¸‰","æå››","ç‹äº”","èµµå…­","é’±ä¸ƒ"][Math.floor(Math.random()*5)],gender:()=>Math.random()>.5?"male":"female",birthDate:()=>{const p=1990+Math.floor(Math.random()*10),m=Math.floor(Math.random()*12)+1,f=Math.floor(Math.random()*28)+1;return new Date(p,m-1,f).getTime()},phone:()=>`138${String(Math.floor(Math.random()*99999999)).padStart(8,"0")}`,email:()=>`user${Math.floor(Math.random()*9999)}@company.com`,address:()=>["åŒ—äº¬å¸‚æœé˜³åŒºæŸæŸè¡—é“123å·","ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒºæŸæŸè·¯456å·","æ·±åœ³å¸‚å—å±±åŒºæŸæŸå¤§é“789å·"][Math.floor(Math.random()*3)],department:()=>["tech","product","design","marketing","hr"][Math.floor(Math.random()*5)],position:()=>["frontend","backend","fullstack","ui","pm"][Math.floor(Math.random()*5)],joinDate:()=>{const p=2020+Math.floor(Math.random()*5),m=Math.floor(Math.random()*12)+1,f=Math.floor(Math.random()*28)+1;return new Date(p,m-1,f).getTime()},salary:()=>Math.floor(Math.random()*47e3)+3e3,skills:()=>["vue","react","node"].slice(0,Math.floor(Math.random()*3)+1),performance:()=>Math.round((Math.random()*4+1)*2)/2,isActive:()=>Math.random()>.2,remarks:()=>"æŠ€æœ¯èƒ½åŠ›å¼ºï¼Œå·¥ä½œè®¤çœŸè´Ÿè´£ï¼Œå›¢é˜Ÿåˆä½œèƒ½åŠ›ä½³ã€‚"},Se=p=>{const m={};return p.forEach(f=>{if(f.prop&&f.prop in L){const F=L[f.prop];m[f.prop]=typeof F=="function"?F():F}}),m},we=async p=>(await new Promise(m=>setTimeout(m,1500)),{code:"0",message:"å‘˜å·¥ä¿¡æ¯æäº¤æˆåŠŸ",data:{id:Date.now(),employeeId:p.employeeId,status:"active",createdAt:new Date().toISOString()}}),je={class:"custom-layout-demo"},Ce={class:"json-display"},Oe={class:"json-display"},Ne=he({__name:"index",props:$({labelPlacement:{default:"top"},validateOnChange:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:$(["submit","validate-success","validate-error","fields-change"],["update:modelValue"]),setup(p,{expose:m,emit:f}){const F=p,D=f,h=be(p,"modelValue"),r=P(),n=ue(),d=P([]),{labelPlacement:U,validateOnChange:A}=ge(F),B=Fe(e=>{d.value=e,D("fields-change",e),e.length>0&&n.info(`å­—æ®µæ›´æ–°: ${e.length} ä¸ªå­—æ®µ`)},200),I=e=>{B(e)},z=e=>{Object.assign(h.value,e)},J=e=>{D("validate-success",e),n.success("è¡¨å•éªŒè¯é€šè¿‡")},H=e=>{D("validate-error",e),n.error("è¡¨å•éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥å¡«å†™å†…å®¹")},K=e=>{D("submit",e)},C=()=>{if(r.value?.getModel&&typeof r.value.getModel=="function"){const e=r.value.getModel();if(e&&Object.keys(e).length>0)return e}return h.value},x=e=>{const s=C()[e];return!(s==null||s===""||Array.isArray(s)&&s.length===0)},c=V(()=>d.value.length>0),S=V(()=>{if(!c.value)return!1;const e=C();return Object.values(e).some(a=>a!=null&&a!==""&&!(Array.isArray(a)&&a.length===0))}),_=V(()=>{const e={};if(!c.value)return e;const a=C();return d.value.forEach(s=>{s.prop in a&&a[s.prop]!==void 0&&(e[s.prop]=a[s.prop])}),e}),{loading:Q,createSubmit:Y}=se(),G=Y(we,{successCode:"0",successMsg:"ğŸ‰ å‘˜å·¥ä¿¡æ¯æäº¤æˆåŠŸï¼"}),W=()=>{const e={fields:d.value.length,data:Object.keys(_.value).length,formRef:!!r.value};n.info(`å­—æ®µ: ${e.fields}ä¸ªï¼Œæ•°æ®: ${e.data}ä¸ª`)},E=()=>{if(!c.value){n.warning("è¯·å…ˆåœ¨è®¾è®¡æ¨¡å¼ä¸­æ·»åŠ å­—æ®µ");return}const e=Se(d.value);if(Object.keys(e).length===0){n.warning("æ²¡æœ‰æ‰¾åˆ°å¯å¡«å……çš„å­—æ®µ");return}r.value?.setFieldsValue?r.value.setFieldsValue(e):Object.assign(h.value,e),setTimeout(()=>{n.success(`å·²ä¸º ${Object.keys(e).length} ä¸ªå­—æ®µå¡«å……æµ‹è¯•æ•°æ®`)},300)},X=()=>{if(!c.value){n.warning("è¯·å…ˆåœ¨è®¾è®¡æ¨¡å¼ä¸­æ·»åŠ å­—æ®µ");return}h.value={},r.value?.resetFields&&r.value.resetFields(),n.info("è¡¨å•å·²æ¸…ç©º")},Z=async()=>{if(!r.value||!c.value){n.warning("è¡¨å•ä¸å¯ç”¨æˆ–æ— å­—æ®µ");return}try{await r.value.validate()}catch{}},ee=async()=>{if(!r.value||!c.value){n.warning("è¡¨å•ä¸å¯ç”¨æˆ–æ— å­—æ®µ");return}const e=_.value;if(Object.keys(e).length===0){n.warning("æ²¡æœ‰å¯æäº¤çš„æ•°æ®");return}const a={form:r.value,model:e};await G(a)},ae=()=>{if(!c.value){n.warning("è¯·å…ˆåœ¨è®¾è®¡æ¨¡å¼ä¸­æ·»åŠ å­—æ®µ");return}const e={metadata:{exportTime:new Date().toISOString(),fieldCount:d.value.length,configuredFields:d.value.map(b=>({prop:b.prop,label:b.label,type:b.type}))},data:_.value},a=JSON.stringify(e,null,2),s=new Blob([a],{type:"application/json"}),M=URL.createObjectURL(s),u=document.createElement("a");u.href=M,u.download=`employee-data-${Date.now()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(M),n.success(`å·²å¯¼å‡º ${d.value.length} ä¸ªå­—æ®µçš„æ•°æ® ${Object.keys(_.value).length>0?"(å«æ•°æ®)":"(ä»…ç»“æ„)"}`)},te=async()=>r.value?.validate(),le=()=>{r.value?.resetFields()};return ve(()=>{D("fields-change",q)}),m({validate:te,resetFields:le,formRef:r}),(e,a)=>{const s=ne,M=ce,u=de,b=ie,T=pe,O=fe,oe=me,re=ye;return k(),R("div",je,[o(s,{ref_key:"formRef",ref:r,options:l(q),"layout-type":"custom",modelValue:h.value,"onUpdate:modelValue":[a[0]||(a[0]=g=>h.value=g),z],"label-placement":l(U),"validate-on-value-change":l(A),"show-default-actions":!1,onValidateSuccess:J,onValidateError:H,onFieldsChange:I,onSubmit:K},null,8,["options","modelValue","label-placement","validate-on-value-change"]),o(T,{title:"ğŸ”§ æ¼”ç¤ºæ“ä½œ",class:"demo-actions"},{"header-extra":t(()=>[o(b,{size:"small"},{default:t(()=>[o(M,{size:"small",type:l(d).length>0?"success":"default"},{default:t(()=>[y(" å­—æ®µ: "+v(l(d).length),1)]),_:1},8,["type"]),o(M,{size:"small",type:l(S)?"success":"default"},{default:t(()=>[y(" æ•°æ®: "+v(l(S)?"æœ‰":"æ— "),1)]),_:1},8,["type"]),o(u,{size:"tiny",onClick:W,secondary:"",type:"info"},{default:t(()=>[...a[1]||(a[1]=[y(" ğŸ” è°ƒè¯•çŠ¶æ€ ",-1)])]),_:1})]),_:1})]),default:t(()=>[o(b,null,{default:t(()=>[o(u,{onClick:E,type:"primary",secondary:""},{default:t(()=>[...a[2]||(a[2]=[y(" ğŸ”„ å¡«å……æµ‹è¯•æ•°æ® ",-1)])]),_:1}),o(u,{onClick:X,secondary:"",disabled:!l(c)},{default:t(()=>[...a[3]||(a[3]=[y(" ğŸ—‘ï¸ æ¸…ç©ºè¡¨å• ",-1)])]),_:1},8,["disabled"]),o(u,{onClick:Z,type:"success",secondary:"",disabled:!l(c)},{default:t(()=>[...a[4]||(a[4]=[y(" âœ… éªŒè¯è¡¨å• ",-1)])]),_:1},8,["disabled"]),o(u,{onClick:ee,type:"primary",loading:l(Q),disabled:!l(c)||!l(S)},{default:t(()=>[...a[5]||(a[5]=[y(" ğŸš€ æäº¤è¡¨å• ",-1)])]),_:1},8,["loading","disabled"]),o(u,{onClick:ae,secondary:"",disabled:!l(c)},{default:t(()=>[...a[6]||(a[6]=[y(" ğŸ“¤ å¯¼å‡ºæ•°æ® ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),l(c)?(k(),w(T,{key:0,title:"ğŸ“Š å®æ—¶æ•°æ®é¢„è§ˆ",class:"demo-preview"},{default:t(()=>[l(S)||Object.keys(l(_)).length>0?(k(),w(oe,{key:0,type:"segment"},{default:t(()=>[o(O,{name:"current",tab:"å½“å‰æ•°æ®"},{default:t(()=>[j("pre",Ce,v(JSON.stringify(l(_),null,2)),1)]),_:1}),o(O,{name:"raw",tab:"åŸå§‹æ•°æ®"},{default:t(()=>[j("pre",Oe,v(JSON.stringify(h.value,null,2)),1)]),_:1}),o(O,{name:"fields",tab:"å­—æ®µçŠ¶æ€"},{default:t(()=>[o(b,{vertical:"",size:"small"},{default:t(()=>[j("div",null,[j("strong",null,"å®é™…å­—æ®µ ("+v(l(d).length)+"ä¸ª):",1)]),(k(!0),R(Me,null,ke(l(d),g=>(k(),w(M,{key:g.prop,type:x(g.prop)?"success":"default",size:"small"},{default:t(()=>[y(v(g.label||g.prop)+" "+v(x(g.prop)?"âœ“":"â—‹"),1)]),_:2},1032,["type"]))),128))]),_:1})]),_:1})]),_:1})):(k(),w(re,{key:1,description:"æš‚æ— è¡¨å•æ•°æ®",size:"small"},{extra:t(()=>[o(u,{onClick:E,size:"small",type:"primary"},{default:t(()=>[...a[7]||(a[7]=[y(" å¡«å……æµ‹è¯•æ•°æ® ",-1)])]),_:1})]),_:1}))]),_:1})):_e("",!0)])}}}),Be=De(Ne,[["__scopeId","data-v-25c2da7a"]]);export{Be as default};
