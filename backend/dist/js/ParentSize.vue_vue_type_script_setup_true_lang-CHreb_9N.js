import{t as j,n as k,a as S,b as O,i as I,u as M}from"./index-COuCnG4I.js";import{c as f,a2 as _,x as A,w as D,o as x,g as B,k as W,a5 as E,r as U,e as N,Q as P,s as T,K as $,q,R as F}from"./vue-vendor-Bom1XEVO.js";const z=I?window:void 0;function g(e){var t;const n=_(e);return(t=n?.$el)!=null?t:n}function K(){const e=A(!1),t=B();return t&&x(()=>{e.value=!0},t),e}function C(e){const t=K();return f(()=>(t.value,!!e()))}function L(e,t,n={}){const{window:s=z,...a}=n;let u;const c=C(()=>s&&"ResizeObserver"in s),l=()=>{u&&(u.disconnect(),u=void 0)},p=f(()=>{const o=_(e);return Array.isArray(o)?o.map(i=>g(i)):[g(o)]}),m=D(p,o=>{if(l(),c.value&&s){u=new ResizeObserver(t);for(const i of o)i&&u.observe(i,a)}},{immediate:!0,flush:"post"}),r=()=>{l(),m()};return O(r),{isSupported:c,stop:r}}function J(e,t,n={}){const{root:s,rootMargin:a="0px",threshold:u=0,window:c=z,immediate:l=!0}=n,p=C(()=>c&&"IntersectionObserver"in c),m=f(()=>{const d=_(e);return j(d).map(g).filter(k)});let r=S;const o=A(l),i=p.value?D(()=>[m.value,g(s),o.value],([d,v])=>{if(r(),!o.value||!d.length)return;const b=new IntersectionObserver(t,{root:g(v),rootMargin:a,threshold:u});d.forEach(w=>w&&b.observe(w)),r=()=>{b.disconnect(),r=S}},{immediate:l,flush:"post"}):S,h=()=>{r(),i(),o.value=!1};return O(h),{isSupported:p,isActive:o,pause(){r(),o.value=!1},resume(){o.value=!0},stop:h}}function R(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=R(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Q(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=R(e))&&(s&&(s+=" "),s+=t);return s}function V(...e){return Q(e)}const X=W({__name:"ParentSize",props:{class:String,debounceTime:{type:Number,default:300},ignoreDimensions:{type:[Array,String],default:()=>[]},parentSizeStyles:Object,enableDebounceLeadingCall:{type:Boolean,default:!0}},setup(e){const t=e,n=E(),s=U(null),a=N({width:0,height:0,top:0,left:0}),u=f(()=>({...t.parentSizeStyles,...n.style}));f(()=>["w-full h-full",t.class]);const c=f(()=>{const{class:r,style:o,...i}=n;return i}),l=f(()=>Array.isArray(t.ignoreDimensions)?t.ignoreDimensions:[t.ignoreDimensions]);function p(r){const{width:o,height:i,top:h,left:d}=r,v={width:o,height:i,top:h,left:d};if(!Object.keys(v).some(y=>a[y]!==v[y]))return;!Object.keys(v).every(y=>l.value.includes(y))&&Object.assign(a,v)}const m=M(p,t.debounceTime);return L(s,r=>{const o=r[0];o&&m(o.contentRect)}),(r,o)=>(F(),P("div",T({ref_key:"target",ref:s,style:u.value,class:$(V)("w-full h-full",t.class)},c.value),[q(r.$slots,"default")],16))}});export{X as _,J as u};
