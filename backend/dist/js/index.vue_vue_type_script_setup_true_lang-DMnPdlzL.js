import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-BYfZxNJP.js";import{k as G,aJ as B,aK as K,r as u,c as Z,o as q,Q as p,R as g,S as i,Y as I,U as s,V as l,l as J,a3 as Q,aG as Y,K as a,$ as f,F as H,N as W,I as D,j as m}from"./vue-vendor-Bom1XEVO.js";import{aA as X,L as ee,P as le,ap as ae,ag as te}from"./ui-vendor-D9aA433m.js";const F=[{type:"input",prop:"username",label:"用户名",placeholder:"请输入用户名"},{type:"input",prop:"email",label:"邮箱",placeholder:"请输入邮箱"},{type:"select",prop:"gender",label:"性别",placeholder:"请选择",children:[{label:"男",value:"male"},{label:"女",value:"female"},{label:"其他",value:"other"}]},{type:"inputNumber",prop:"age",label:"年龄",placeholder:"年龄",attrs:{min:1,max:120}},{type:"select",prop:"city",label:"城市",placeholder:"请选择城市",children:[{label:"北京",value:"beijing"},{label:"上海",value:"shanghai"},{label:"广州",value:"guangzhou"},{label:"深圳",value:"shenzhen"}]}],se=[{label:"居中",value:"center"},{label:"左对齐",value:"start"},{label:"右对齐",value:"end"}],ne=[{label:"活跃用户",value:"active"},{label:"已停用",value:"disabled"},{label:"待验证",value:"pending"}],oe=[{label:"注册时间倒序",value:"created_desc"},{label:"注册时间正序",value:"created_asc"},{label:"用户名A-Z",value:"name_asc"},{label:"用户名Z-A",value:"name_desc"}],R={gap:16,align:"center"},C={dateRange:null,userStatus:null,sortBy:null},ie={class:"inline-layout"},de={class:"flex gap-8 items-center flex-wrap"},ue={class:"flex items-center gap-3"},re={class:"flex items-center gap-2"},ce={class:"text-xs text-gray-500 min-w-12"},me={class:"flex items-center gap-3"},ve={class:"flex rounded border"},pe=["onClick"],ge={class:"flex gap-3 mt-4"},fe={key:0,class:"mt-6"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},he=G({__name:"index",props:B({labelPlacement:{default:"left"},validateOnChange:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:B(["submit","validate-success","validate-error","fields-change"],["update:modelValue"]),setup(b,{expose:M,emit:O}){const r=O,y=K(b,"modelValue"),x=u(null),v=u(!1),d=u(!1),c=u(R.gap),_=u(R.align),V=X(),o=u({...C}),U=Z(()=>({type:"inline",inline:{gap:c.value,align:_.value}})),$=async n=>{try{v.value=!0,await n();const e={...y.value,advanced:d.value?o.value:null};r("submit",e)}catch(e){throw V.error("表单验证失败，请检查输入"),e}finally{v.value=!1}},A=n=>{n(),o.value={...C},V.info("表单已重置")},P=n=>r("submit",n),z=n=>r("validate-success",n),E=n=>r("validate-error",n);return q(()=>{r("fields-change",F)}),M({validate:()=>x.value?.validate(),resetFields:()=>{x.value?.resetFields(),o.value={...C}}}),(n,e)=>{const k=ee,h=le,L=j,T=ae,w=te;return g(),p("div",ie,[i(k,{class:"mb-6",bordered:!1},{header:s(()=>[...e[6]||(e[6]=[l("div",{class:"flex items-center gap-2"},[l("div",{class:"i-mdi-tune text-lg"}),m(" 内联布局配置 ")],-1)])]),default:s(()=>[l("div",de,[l("div",ue,[e[7]||(e[7]=l("span",{class:"text-sm"},"元素间距",-1)),l("div",re,[J(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>Q(c)?c.value=t:null),type:"range",min:"8",max:"32",class:"w-24"},null,512),[[Y,a(c)]]),l("span",ce,f(a(c))+"px",1)])]),l("div",me,[e[8]||(e[8]=l("span",{class:"text-sm"},"对齐方式",-1)),l("div",ve,[(g(!0),p(H,null,W(a(se),t=>(g(),p("button",{key:t.value,class:D(["px-3 py-1 text-xs border-0 transition-all",a(_)===t.value?"bg-blue-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"]),onClick:N=>_.value=t.value},f(t.label),11,pe))),128))])])])]),_:1}),i(L,{ref_key:"formRef",ref:x,options:a(F),"layout-type":"inline","layout-config":a(U),"validate-on-value-change":b.validateOnChange,"label-placement":b.labelPlacement,modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=t=>y.value=t),onSubmit:P,onValidateSuccess:z,onValidateError:E},{action:s(({validate:t,reset:N})=>[l("div",ge,[i(h,{type:"primary",loading:a(v),onClick:S=>$(t)},{icon:s(()=>[...e[9]||(e[9]=[l("div",{class:"i-mdi-magnify"},null,-1)])]),default:s(()=>[m(" "+f(a(v)?"搜索中...":"搜索"),1)]),_:1},8,["loading","onClick"]),i(h,{onClick:S=>A(N)},{icon:s(()=>[...e[10]||(e[10]=[l("div",{class:"i-mdi-refresh"},null,-1)])]),default:s(()=>[e[11]||(e[11]=m(" 重置 ",-1))]),_:1},8,["onClick"]),i(h,{type:"info",onClick:e[1]||(e[1]=S=>d.value=!a(d))},{icon:s(()=>[l("div",{class:D(a(d)?"i-mdi-chevron-up":"i-mdi-chevron-down")},null,2)]),default:s(()=>[m(" "+f(a(d)?"收起":"高级"),1)]),_:1})])]),_:1},8,["options","layout-config","validate-on-value-change","label-placement","modelValue"]),a(d)?(g(),p("div",fe,[i(k,{bordered:!1},{header:s(()=>[...e[12]||(e[12]=[l("div",{class:"flex items-center gap-2"},[l("div",{class:"i-mdi-filter-variant text-lg"}),m(" 高级搜索选项 ")],-1)])]),default:s(()=>[l("div",be,[l("div",null,[e[13]||(e[13]=l("div",{class:"text-sm mb-2"},"注册时间范围",-1)),i(T,{value:a(o).dateRange,"onUpdate:value":e[3]||(e[3]=t=>a(o).dateRange=t),type:"daterange",placeholder:"选择时间范围",class:"w-full"},null,8,["value"])]),l("div",null,[e[14]||(e[14]=l("div",{class:"text-sm mb-2"},"用户状态",-1)),i(w,{value:a(o).userStatus,"onUpdate:value":e[4]||(e[4]=t=>a(o).userStatus=t),options:a(ne),placeholder:"选择用户状态",clearable:""},null,8,["value","options"])]),l("div",null,[e[15]||(e[15]=l("div",{class:"text-sm mb-2"},"排序方式",-1)),i(w,{value:a(o).sortBy,"onUpdate:value":e[5]||(e[5]=t=>a(o).sortBy=t),options:a(oe),placeholder:"选择排序方式",clearable:""},null,8,["value","options"])])])]),_:1})])):I("",!0)])}}});export{he as _};
