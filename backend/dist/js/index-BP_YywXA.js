import{I as $}from"./iconify-W0kOH8CK.js";import{k,aE as S,r as f,Q as V,R as B,V as m,S as l,j as s,U as o}from"./vue-vendor-Bom1XEVO.js";import{c as W}from"./terraria-CQC2iL6g.js";import{aA as q,ai as M,ae as T,R as A,V as D,ag as E,J as F,K as j,I as G,U as J,P as K,L}from"./ui-vendor-D9aA433m.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DMzwf6y-.js";import"./spline-vendor-C3Tmx0e7.js";import"./charts-vendor-PiKWrtPe.js";import"./editor-vendor-CufumsHQ.js";const Q={class:"server-create"},z={class:"page-header"},H={class:"page-title"},X=k({name:"ServerCreate",__name:"index",setup(Y){const c=S(),r=q(),p=f(!1),a=f({name:"",port:7777,maxPlayers:8,world:null,password:"",difficulty:"classic",pvp:!1}),g=[{label:"创建新世界",value:"new"},{label:"MyWorld.wld",value:"MyWorld"},{label:"TestWorld.wld",value:"TestWorld"}],w={name:{required:!0,message:"请输入服务器名称",trigger:"blur"},port:{required:!0,message:"请输入端口号",trigger:"blur"},maxPlayers:{required:!0,message:"请输入最大玩家数",trigger:"blur"}},y=async()=>{p.value=!0;try{const u={name:a.value.name,port:a.value.port,world:a.value.world||"new",maxPlayers:a.value.maxPlayers,password:a.value.password,difficulty:a.value.difficulty,pvp:a.value.pvp},e=await W(u);e.code==="0"?(r.success("服务器创建成功！"),c.push("/server/list")):r.error(e.message||"创建失败，请重试")}catch{r.error("创建失败，请重试")}finally{p.value=!1}},x=()=>{a.value={name:"",port:7777,maxPlayers:8,world:null,password:"",difficulty:"classic",pvp:!1}};return(u,e)=>{const b=$,v=A,n=T,_=D,N=E,d=j,P=F,U=G,i=K,C=J,I=M,R=L;return B(),V("div",Q,[m("div",z,[m("h2",H,[l(b,{icon:"mdi:server-plus",class:"title-icon"}),e[8]||(e[8]=s(" 创建泰拉瑞亚服务器 ",-1))]),e[9]||(e[9]=m("p",{class:"page-desc"},"配置并创建新的泰拉瑞亚服务器实例",-1))]),l(R,{title:"服务器配置",class:"config-card"},{default:o(()=>[l(I,{ref:"formRef",model:a.value,rules:w,"label-placement":"left","label-width":"120px"},{default:o(()=>[l(n,{label:"服务器名称",path:"name"},{default:o(()=>[l(v,{value:a.value.name,"onUpdate:value":e[0]||(e[0]=t=>a.value.name=t),placeholder:"请输入服务器名称"},null,8,["value"])]),_:1}),l(n,{label:"端口",path:"port"},{default:o(()=>[l(_,{value:a.value.port,"onUpdate:value":e[1]||(e[1]=t=>a.value.port=t),min:7777,max:7800,placeholder:"7777"},null,8,["value"])]),_:1}),l(n,{label:"最大玩家数",path:"maxPlayers"},{default:o(()=>[l(_,{value:a.value.maxPlayers,"onUpdate:value":e[2]||(e[2]=t=>a.value.maxPlayers=t),min:1,max:255,placeholder:"8"},null,8,["value"])]),_:1}),l(n,{label:"世界文件",path:"world"},{default:o(()=>[l(N,{value:a.value.world,"onUpdate:value":e[3]||(e[3]=t=>a.value.world=t),options:g,placeholder:"选择世界文件"},null,8,["value"])]),_:1}),l(n,{label:"服务器密码",path:"password"},{default:o(()=>[l(v,{value:a.value.password,"onUpdate:value":e[4]||(e[4]=t=>a.value.password=t),type:"password",placeholder:"留空表示无密码"},null,8,["value"])]),_:1}),l(n,{label:"难度模式",path:"difficulty"},{default:o(()=>[l(P,{value:a.value.difficulty,"onUpdate:value":e[5]||(e[5]=t=>a.value.difficulty=t)},{default:o(()=>[l(d,{value:"classic"},{default:o(()=>[...e[10]||(e[10]=[s("经典模式",-1)])]),_:1}),l(d,{value:"expert"},{default:o(()=>[...e[11]||(e[11]=[s("专家模式",-1)])]),_:1}),l(d,{value:"master"},{default:o(()=>[...e[12]||(e[12]=[s("大师模式",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),l(n,{label:"PVP模式",path:"pvp"},{default:o(()=>[l(U,{value:a.value.pvp,"onUpdate:value":e[6]||(e[6]=t=>a.value.pvp=t)},null,8,["value"])]),_:1}),l(n,null,{default:o(()=>[l(C,null,{default:o(()=>[l(i,{type:"primary",onClick:y,loading:p.value},{default:o(()=>[...e[13]||(e[13]=[s(" 创建服务器 ",-1)])]),_:1},8,["loading"]),l(i,{onClick:x},{default:o(()=>[...e[14]||(e[14]=[s("重置",-1)])]),_:1}),l(i,{onClick:e[7]||(e[7]=t=>u.$router.go(-1))},{default:o(()=>[...e[15]||(e[15]=[s("返回",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),ue=O(X,[["__scopeId","data-v-6c8de03f"]]);export{ue as default};
