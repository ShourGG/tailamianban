import{k,r as u,c as I,w as d,o as w,n as h,b as B,a as p,l as L,v as V,K as y,Q as W,I as z,R as D}from"./vue-vendor-Bom1XEVO.js";import{a as S}from"./charts-vendor-CvHUaZlk.js";import{c as T}from"./editor-vendor-D83MfH0r.js";import{u as F}from"./index-CkMMG6vV.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ui-vendor-lRdd6BJd.js";import"./spline-vendor-Cs6wJgUK.js";var q=T();const K=S(q),M=["id"],Q=k({__name:"index",props:{editorId:{},modelValue:{default:""},placeholder:{default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},height:{default:240}},emits:["update:modelValue","editor-mounted","editor-change"],setup(c,{expose:x,emit:_}){const l=c,n=_,o=u(null),t=u(null),a=u(!1),E=F(),g=I(()=>E.isDark),f=()=>{if(!(!o.value||a.value))try{const e=new K(o.value),r=e.config;r.placeholder=l.placeholder,r.height=l.height-50,r.onchange=m=>{n("update:modelValue",m),n("editor-change",m)},e.create(),h(()=>{l.modelValue&&e.txt.html(l.modelValue),l.readonly&&e.disable(),t.value=e,a.value=!0,n("editor-mounted",e)})}catch{}},v=()=>{if(t.value&&a.value)try{t.value.destroy(),t.value=null,a.value=!1}catch{}},b=e=>{if(t.value&&a.value)try{t.value.txt.html(e)}catch{}},C=()=>{if(t.value&&a.value)try{return t.value.txt.html()}catch{return""}return""};d(()=>l.modelValue,e=>{t.value&&a.value&&t.value.txt.html()!==e&&t.value.txt.html(e||"")}),d(()=>l.disabled,e=>{if(t.value&&a.value)try{e?t.value.disable():t.value.enable()}catch{}}),d(()=>l.readonly,e=>{if(t.value&&a.value)try{e?t.value.disable():t.value.enable()}catch{}});const i=()=>{if(!o.value)return;const e=o.value.closest(".form-demo");if(e){e.classList.add("editor-focused");const r=e.scrollWidth;e.style.maxWidth=`${r}px`}},s=()=>{if(!o.value)return;const e=o.value.closest(".form-demo");e&&(e.classList.remove("editor-focused"),e.style.maxWidth="")};return w(()=>{h(()=>{setTimeout(()=>{f(),o.value&&(o.value.addEventListener("focusin",i),o.value.addEventListener("focusout",s))},200)})}),B(()=>{o.value&&(o.value.removeEventListener("focusin",i),o.value.removeEventListener("focusout",s)),v()}),x({initializeEditor:f,destroyEditor:v,setContent:b,getContent:C,handleEditorFocus:i,handleEditorBlur:s,editorInstance:p(t),isInitialized:p(a)}),(e,r)=>L((D(),W("div",{ref_key:"editorContainer",ref:o,id:c.editorId,class:z(["w-full",{"editor-dark":y(g)}])},null,10,M)),[[V,y(a)]])}}),N=j(Q,[["__scopeId","data-v-ccbeb5f8"]]);export{N as default};
