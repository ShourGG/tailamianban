import{k,r as u,c as I,w as d,o as B,n as h,b as L,a as p,l as w,v as V,J as y,Q as z,P as W,H as D}from"./vue-vendor-DgJqRHrX.js";import{E as S}from"./editor-vendor-BwkH8h9-.js";import{u as T}from"./index-2I1Ii_0g.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./charts-vendor-DjXuxi75.js";import"./ui-vendor-Dblj447Y.js";import"./spline-vendor-Btm54g1Q.js";const H=["id"],J=k({__name:"index",props:{editorId:{},modelValue:{default:""},placeholder:{default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},height:{default:240}},emits:["update:modelValue","editor-mounted","editor-change"],setup(c,{expose:_,emit:x}){const l=c,n=x,o=u(null),t=u(null),a=u(!1),b=T(),g=I(()=>b.isDark),f=()=>{if(!(!o.value||a.value))try{const e=new S(o.value),r=e.config;r.placeholder=l.placeholder,r.height=l.height-50,r.onchange=m=>{n("update:modelValue",m),n("editor-change",m)},e.create(),h(()=>{l.modelValue&&e.txt.html(l.modelValue),l.readonly&&e.disable(),t.value=e,a.value=!0,n("editor-mounted",e)})}catch{}},v=()=>{if(t.value&&a.value)try{t.value.destroy(),t.value=null,a.value=!1}catch{}},E=e=>{if(t.value&&a.value)try{t.value.txt.html(e)}catch{}},C=()=>{if(t.value&&a.value)try{return t.value.txt.html()}catch{return""}return""};d(()=>l.modelValue,e=>{t.value&&a.value&&t.value.txt.html()!==e&&t.value.txt.html(e||"")}),d(()=>l.disabled,e=>{if(t.value&&a.value)try{e?t.value.disable():t.value.enable()}catch{}}),d(()=>l.readonly,e=>{if(t.value&&a.value)try{e?t.value.disable():t.value.enable()}catch{}});const i=()=>{if(!o.value)return;const e=o.value.closest(".form-demo");if(e){e.classList.add("editor-focused");const r=e.scrollWidth;e.style.maxWidth=`${r}px`}},s=()=>{if(!o.value)return;const e=o.value.closest(".form-demo");e&&(e.classList.remove("editor-focused"),e.style.maxWidth="")};return B(()=>{h(()=>{setTimeout(()=>{f(),o.value&&(o.value.addEventListener("focusin",i),o.value.addEventListener("focusout",s))},200)})}),L(()=>{o.value&&(o.value.removeEventListener("focusin",i),o.value.removeEventListener("focusout",s)),v()}),_({initializeEditor:f,destroyEditor:v,setContent:E,getContent:C,handleEditorFocus:i,handleEditorBlur:s,editorInstance:p(t),isInitialized:p(a)}),(e,r)=>w((z(),W("div",{ref_key:"editorContainer",ref:o,id:c.editorId,class:D(["w-full",{"editor-dark":y(g)}])},null,10,H)),[[V,y(a)]])}}),A=F(J,[["__scopeId","data-v-ccbeb5f8"]]);export{A as default};
