import{t as _,n as k,a as S,b as O,i as I,u as M}from"./index-DLz9CAvw.js";import{c as p,r as A,w as D,o as B,g as R,k as W,a4 as x,e as E,P,s as U,J as N,q as T,Q as $}from"./vue-vendor-DgJqRHrX.js";const z=I?window:void 0;function g(e){var t;const s=_(e);return(t=s?.$el)!=null?t:s}function q(){const e=A(!1),t=R();return t&&B(()=>{e.value=!0},t),e}function C(e){const t=q();return p(()=>(t.value,!!e()))}function F(e,t,s={}){const{window:n=z,...a}=s;let u;const l=C(()=>n&&"ResizeObserver"in n),f=()=>{u&&(u.disconnect(),u=void 0)},d=p(()=>{const r=_(e);return Array.isArray(r)?r.map(i=>g(i)):[g(r)]}),m=D(d,r=>{if(f(),l.value&&n){u=new ResizeObserver(t);for(const i of r)i&&u.observe(i,a)}},{immediate:!0,flush:"post"}),o=()=>{f(),m()};return O(o),{isSupported:l,stop:o}}function G(e,t,s={}){const{root:n,rootMargin:a="0px",threshold:u=0,window:l=z,immediate:f=!0}=s,d=C(()=>l&&"IntersectionObserver"in l),m=p(()=>{const c=_(e);return(Array.isArray(c)?c:[c]).map(g).filter(k)});let o=S;const r=A(f),i=d.value?D(()=>[m.value,g(n),r.value],([c,v])=>{if(o(),!r.value||!c.length)return;const b=new IntersectionObserver(t,{root:g(v),rootMargin:a,threshold:u});c.forEach(w=>w&&b.observe(w)),o=()=>{b.disconnect(),o=S}},{immediate:f,flush:"post"}):S,h=()=>{o(),i(),r.value=!1};return O(h),{isSupported:d,isActive:r,pause(){o(),r.value=!1},resume(){r.value=!0},stop:h}}function j(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=j(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function J(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=j(e))&&(n&&(n+=" "),n+=t);return n}function L(...e){return J(e)}const H=W({__name:"ParentSize",props:{class:String,debounceTime:{type:Number,default:300},ignoreDimensions:{type:[Array,String],default:()=>[]},parentSizeStyles:Object,enableDebounceLeadingCall:{type:Boolean,default:!0}},setup(e){const t=e,s=x(),n=A(null),a=E({width:0,height:0,top:0,left:0}),u=p(()=>({...t.parentSizeStyles,...s.style}));p(()=>["w-full h-full",t.class]);const l=p(()=>{const{class:o,style:r,...i}=s;return i}),f=p(()=>Array.isArray(t.ignoreDimensions)?t.ignoreDimensions:[t.ignoreDimensions]);function d(o){const{width:r,height:i,top:h,left:c}=o,v={width:r,height:i,top:h,left:c};if(!Object.keys(v).some(y=>a[y]!==v[y]))return;!Object.keys(v).every(y=>f.value.includes(y))&&Object.assign(a,v)}const m=M(d,t.debounceTime);return F(n,o=>{const r=o[0];r&&m(r.contentRect)}),(o,r)=>($(),P("div",U({ref_key:"target",ref:n,style:u.value,class:N(L)("w-full h-full",t.class)},l.value),[T(o.$slots,"default")],16))}});export{H as _,G as u};
