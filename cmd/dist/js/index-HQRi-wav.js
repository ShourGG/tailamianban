import{P as L,_ as T}from"./index.vue_vue_type_script_setup_true_lang-D3cPmkgY.js";import{H as I,K,ag as $,V as J,W as Q,X as A,an as G,M as W}from"./ui-vendor-Dblj447Y.js";import{k as X,ao as w,ap as Y,r as Z,e as ee,c as te,K as se,o as le,w as ae,P as oe,Q as ne,R as l,U as c,S as s,J as a,j as p}from"./vue-vendor-DgJqRHrX.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const{required:r,length:re,email:de}=L,ue=()=>({steps:{steps:[{key:"step1",title:"基本信息",description:"填写个人基本信息",required:!0},{key:"step2",title:"联系方式",description:"填写联系方式和地址",required:!0},{key:"step3",title:"安全设置",description:"设置登录密码",required:!0},{key:"step4",title:"确认提交",description:"确认信息并完成注册",required:!1}],size:"medium",vertical:!1,validateBeforeNext:!0,showStepHeader:!0,prevButtonText:"上一步",nextButtonText:"下一步"}}),ie=f=>[{type:"input",prop:"name",label:"姓名",placeholder:"请输入姓名",layout:{step:"step1"},rules:[r("姓名")]},{type:"input",prop:"idCard",label:"身份证号",placeholder:"请输入身份证号",layout:{step:"step1"},rules:[r("身份证号")]},{type:"datePicker",prop:"birthday",label:"出生日期",layout:{step:"step1"},attrs:{type:"date"}},{type:"radio",prop:"gender",label:"性别",layout:{step:"step1"},children:[{label:"男",value:"male"},{label:"女",value:"female"}],rules:[r("性别")]},{type:"input",prop:"phone",label:"手机号码",placeholder:"请输入手机号码",layout:{step:"step2"},rules:[r("手机号码")]},{type:"input",prop:"email",label:"邮箱地址",placeholder:"请输入邮箱地址",layout:{step:"step2"},rules:[r("邮箱地址"),de("邮箱地址")]},{type:"input",prop:"address",label:"联系地址",placeholder:"请输入详细地址",layout:{step:"step2"}},{type:"input",prop:"company",label:"工作单位",placeholder:"请输入工作单位",layout:{step:"step2"}},{type:"input",prop:"password",label:"登录密码",placeholder:"请输入密码",layout:{step:"step3"},attrs:{type:"password",showPasswordOn:"click"},rules:[r("密码"),re("密码",6,20)]},{type:"input",prop:"confirmPassword",label:"确认密码",placeholder:"请再次输入密码",layout:{step:"step3"},attrs:{type:"password",showPasswordOn:"click"},rules:[r("确认密码"),{validator:(b,y)=>y&&y!==f.password?Promise.reject(new Error("两次密码输入不一致")):Promise.resolve()}]},{type:"input",prop:"securityQuestion",label:"密保问题",placeholder:"请输入密保问题",layout:{step:"step3"}},{type:"input",prop:"securityAnswer",label:"密保答案",placeholder:"请输入密保答案",layout:{step:"step3"}},{type:"checkbox",prop:"agreements",label:"同意协议",layout:{step:"step4"},children:[{label:"我已阅读并同意《用户协议》",value:"user"},{label:"我已阅读并同意《隐私政策》",value:"privacy"}],rules:[r("协议")]},{type:"switch",prop:"newsletter",label:"接收邮件通知",layout:{step:"step4"}},{type:"textarea",prop:"remarks",label:"备注信息",placeholder:"请输入备注信息（可选）",layout:{step:"step4"},attrs:{rows:3}}],ce={class:"steps-demo"},me={class:"size-selector"},fe={class:"action-buttons"},ye=X({__name:"index",props:w({labelPlacement:{default:"left"},validateOnChange:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:w(["submit","validate-success","validate-error","fields-change"],["update:modelValue"]),setup(f,{expose:b,emit:y}){const x=f,d=y,u=Y(f,"modelValue"),i=I(),m=Z(),o=ee(ue()),v=te(()=>ie(u.value)),{labelPlacement:C,validateOnChange:S}=se(x),V=(t,e)=>{},N=t=>!0,B=t=>{d("validate-success",t)},P=t=>{d("validate-error",t)},R=t=>{d("submit",t),i.success("表单提交成功！")},O=t=>{d("fields-change",t)},z=()=>{try{i.success("草稿已保存")}catch{i.error("草稿保存失败")}},E=()=>{try{const t={username:"test_user",realName:"测试用户",age:25,gender:"male",email:"test@example.com"};Object.assign(u.value,t),i.success("草稿已加载")}catch{i.error("草稿加载失败")}},F=()=>{m.value?.resetFields(),u.value={},i.info("表单已重置")},U=async()=>m.value?.validate(),q=()=>{m.value?.resetFields()};return le(()=>{d("fields-change",v.value)}),ae(v,t=>{d("fields-change",t)},{deep:!0}),b({validate:U,resetFields:q,formRef:m}),(t,e)=>{const _=$,h=Q,M=J,D=K,k=A,j=T,H=G,g=W;return ne(),oe("div",ce,[l(k,{title:"步骤表单配置",size:"small",class:"mb-6"},{default:s(()=>[l(D,{align:"center"},{default:s(()=>[l(_,{checked:a(o).steps.vertical,"onUpdate:checked":e[0]||(e[0]=n=>a(o).steps.vertical=n)},{default:s(()=>[...e[5]||(e[5]=[p("垂直布局",-1)])]),_:1},8,["checked"]),l(_,{checked:a(o).steps.validateBeforeNext,"onUpdate:checked":e[1]||(e[1]=n=>a(o).steps.validateBeforeNext=n)},{default:s(()=>[...e[6]||(e[6]=[p("验证后继续",-1)])]),_:1},8,["checked"]),l(_,{checked:a(o).steps.showStepHeader,"onUpdate:checked":e[2]||(e[2]=n=>a(o).steps.showStepHeader=n)},{default:s(()=>[...e[7]||(e[7]=[p("显示步骤标题",-1)])]),_:1},8,["checked"]),c("div",me,[e[10]||(e[10]=c("span",{class:"size-label"},"步骤大小：",-1)),l(M,{value:a(o).steps.size,"onUpdate:value":e[3]||(e[3]=n=>a(o).steps.size=n)},{default:s(()=>[l(h,{value:"small"},{default:s(()=>[...e[8]||(e[8]=[p("小",-1)])]),_:1}),l(h,{value:"medium"},{default:s(()=>[...e[9]||(e[9]=[p("中",-1)])]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),l(j,{ref_key:"formRef",ref:m,modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=n=>u.value=n),options:a(v),"layout-type":"steps","layout-config":a(o),"label-placement":a(C),"validate-on-value-change":a(S),onStepChange:V,onStepValidate:N,onSubmit:R,onValidateSuccess:B,onValidateError:P,onFieldsChange:O},null,8,["modelValue","options","layout-config","label-placement","validate-on-value-change"]),l(k,{title:"表单数据",size:"small",class:"mt-6"},{default:s(()=>[l(H,{code:JSON.stringify(u.value,null,2),language:"json"},null,8,["code"])]),_:1}),c("div",fe,[l(g,{type:"default",onClick:z},{icon:s(()=>[...e[11]||(e[11]=[c("div",{class:"i-mdi:content-save"},null,-1)])]),default:s(()=>[e[12]||(e[12]=p(" 保存草稿 ",-1))]),_:1}),l(g,{type:"default",onClick:E},{icon:s(()=>[...e[13]||(e[13]=[c("div",{class:"i-mdi:folder-open-outline"},null,-1)])]),default:s(()=>[e[14]||(e[14]=p(" 加载草稿 ",-1))]),_:1}),l(g,{type:"default",onClick:F},{icon:s(()=>[...e[15]||(e[15]=[c("div",{class:"i-mdi:lock-reset"},null,-1)])]),default:s(()=>[e[16]||(e[16]=p(" 重置表单 ",-1))]),_:1})])])}}}),he=pe(ye,[["__scopeId","data-v-9e0c89e3"]]);export{he as default};
