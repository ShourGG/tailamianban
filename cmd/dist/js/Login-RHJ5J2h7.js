import{k as C,ag as L,r as c,e as P,o as R,a0 as r,P as U,Q as N,U as e,R as s,S as a,ah as V,j as l,_ as h,ai as q}from"./vue-vendor-DgJqRHrX.js";import{u as z}from"./auth-DIZs64aw.js";import{H as A,ad as D,a0 as K,M as T,ah as j,a3 as E}from"./ui-vendor-Dblj447Y.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DAKaZtA3.js";import"./spline-vendor-Btm54g1Q.js";import"./charts-vendor-DjXuxi75.js";import"./editor-vendor-BwkH8h9-.js";const H={class:"login-container"},I={class:"login-card"},Q={class:"login-header"},$={class:"logo"},G={class:"login-footer"},J=C({__name:"Login",setup(O){const f=L(),d=A(),v=z(),m=c(),t=c(!1),n=P({username:"",password:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},i=async()=>{try{await m.value?.validate(),t.value=!0,await v.login(n.username,n.password),d.success("登录成功!"),f.push("/dashboard")}catch(_){d.error(_.message||"登录失败，请检查用户名和密码")}finally{t.value=!1}};return R(()=>{n.username="admin",n.password="admin123"}),(_,o)=>{const b=r("i-carbon-game-console"),y=r("i-carbon-user"),g=K,u=D,x=r("i-carbon-password"),k=T,S=j,M=r("i-carbon-information"),B=E;return N(),U("div",H,[e("div",I,[e("div",Q,[e("div",$,[s(b,{class:"logo-icon"}),o[2]||(o[2]=e("h1",null,"泰拉瑞亚面板",-1))]),o[3]||(o[3]=e("p",{class:"subtitle"},"Terraria Server Management Panel",-1))]),s(S,{ref_key:"formRef",ref:m,model:n,rules:w,size:"large",onSubmit:q(i,["prevent"])},{default:a(()=>[s(u,{path:"username"},{default:a(()=>[s(g,{value:n.username,"onUpdate:value":o[0]||(o[0]=p=>n.username=p),placeholder:"用户名 / Username","input-props":{autocomplete:"username"}},{prefix:a(()=>[s(y)]),_:1},8,["value"])]),_:1}),s(u,{path:"password"},{default:a(()=>[s(g,{value:n.password,"onUpdate:value":o[1]||(o[1]=p=>n.password=p),type:"password",placeholder:"密码 / Password","input-props":{autocomplete:"current-password"},onKeyup:V(i,["enter"])},{prefix:a(()=>[s(x)]),_:1},8,["value"])]),_:1}),s(u,null,{default:a(()=>[s(k,{type:"primary",size:"large",block:"",loading:t.value,onClick:i},{default:a(()=>[l(h(t.value?"登录中...":"登录 / Login"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e("div",G,[s(B,{type:"info","show-icon":!1},{header:a(()=>[s(M),o[4]||(o[4]=l(" 默认账号 / Default Account ",-1))]),default:a(()=>[o[5]||(o[5]=l(" 用户名: ",-1)),o[6]||(o[6]=e("strong",null,"admin",-1)),o[7]||(o[7]=l(" | 密码: ",-1)),o[8]||(o[8]=e("strong",null,"admin123",-1)),o[9]||(o[9]=e("br",null,null,-1)),o[10]||(o[10]=e("small",null,"首次登录后请及时修改密码 / Please change password after first login",-1))]),_:1})])]),o[11]||(o[11]=e("div",{class:"login-bg"},[e("div",{class:"bg-pattern"})],-1))])}}}),ao=F(J,[["__scopeId","data-v-0d13c2d4"]]);export{ao as default};
