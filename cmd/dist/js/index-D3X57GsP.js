import{k as b,c as d,o as w,w as x,a0 as y,O as I,P as S,Q as V,J as T}from"./vue-vendor-DIhTWhib.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"c-markdown-wrapper"},L=b({__name:"index",props:{modelValue:{default:""},height:{default:"400px"},disabled:{type:Boolean,default:!1},placeholder:{default:"请输入 Markdown 内容..."},mode:{default:"editable"},toolbar:{},uploadImageConfig:{},tocNavPosition:{default:"right"},defaultFullscreen:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},includeLevel:{default:()=>[1,2,3,4,5,6]},leftToolbar:{default:"undo redo clear | h bold italic strikethrough quote | ul ol table hr | link image code | save"},rightToolbar:{default:"preview toc sync-scroll fullscreen"},maxLength:{default:5e4},showWordCount:{type:Boolean,default:!0},autoSave:{type:Boolean,default:!1},autoSaveInterval:{default:3e4}},emits:["update:modelValue","change","save","upload-image","fullscreen-change","copy-code-success","word-count-change","auto-save","max-length-exceeded"],setup(a,{expose:c,emit:s}){const o=a,t=s,r=d(()=>o.modelValue?.length||0),i=d(()=>{const e={accept:"image/*",multiple:!1};return o.uploadImageConfig?{...e,...o.uploadImageConfig}:e});w(()=>{o.showWordCount&&o.modelValue&&t("word-count-change",o.modelValue.length)}),x(()=>o.modelValue,e=>{o.showWordCount&&t("word-count-change",e?.length||0)},{immediate:!0});const f=e=>{if(e.length>o.maxLength){t("max-length-exceeded",e.length,o.maxLength);return}t("update:modelValue",e),o.showWordCount&&t("word-count-change",e.length)},h=(e,l)=>{t("change",e,l),o.autoSave&&C(e)},m=(e,l)=>{t("save",e,l)},g=(e,l,u)=>{t("upload-image",e,l,u)},p=e=>{t("fullscreen-change",e)},v=e=>{t("copy-code-success",e)};let n=null;const C=e=>{n&&clearTimeout(n),n=setTimeout(()=>{t("auto-save",e)},o.autoSaveInterval)};return c({focus:()=>{},getHtml:()=>"",insertText:e=>{},wordCount:r}),(e,l)=>{const u=y("v-md-editor");return S(),I("div",B,[V(u,{"model-value":a.modelValue,height:a.height,placeholder:a.placeholder,toolbar:a.toolbar,mode:a.mode,"upload-image-config":T(i),"toc-nav-position":a.tocNavPosition,"default-fullscreen":a.defaultFullscreen,autofocus:a.autofocus,"include-level":a.includeLevel,"left-toolbar":a.leftToolbar,"right-toolbar":a.rightToolbar,"default-show-toc":!0,"onUpdate:modelValue":f,onChange:h,onSave:m,onUploadImage:g,onFullscreenChange:p,onCopyCodeSuccess:v},null,8,["model-value","height","placeholder","toolbar","mode","upload-image-config","toc-nav-position","default-fullscreen","autofocus","include-level","left-toolbar","right-toolbar"])])}}}),H=k(L,[["__scopeId","data-v-0ee1caa6"]]);export{H as default};
