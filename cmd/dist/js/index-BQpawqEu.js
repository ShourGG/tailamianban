import{k as E,r,w as M,O as P,P as c,Z as y,X as H,s as v,J as o,a2 as m,S as J,Q as k}from"./vue-vendor-DIhTWhib.js";import{ad as O}from"./ui-vendor-qucRfopV.js";const Q={class:"inline-block"},V={key:4,class:"inline-block"},X={class:"flex gap-2.5 items-center"},q=E({__name:"index",props:{mode:{default:"date"},placeholder:{default:""},startPlaceholder:{default:""},endPlaceholder:{default:""},disabled:{type:Boolean,default:!1},disabledBeforeToday:{type:Boolean,default:!1},disabledAfterToday:{type:Boolean,default:!1},valueFormat:{default:"yyyy-MM-dd"},startDateProps:{default:()=>({})},endDateProps:{default:()=>({})}},emits:["update:singleDate","update:singleDateTime","update:dateRange","update:dateTimeRange","update:smartRange","change"],setup(a,{expose:R,emit:U}){const p=a,t=U,f=r(null),g=r(null),h=r(null),b=r(null),n=r(null),s=r(null),i=r(!0),B=()=>{const e=new Date;return e.setHours(0,0,0,0),e.getTime()},D=e=>{const l=B();return!!(p.disabledBeforeToday&&e<l||p.disabledAfterToday&&e>l)},T=e=>D(e),C=e=>D(e),F=e=>{if(!n.value)return!0;const l=n.value;return e<l?!0:D(e)},N=e=>{t("update:singleDate",e),t("change",e)},S=e=>{t("update:singleDateTime",e),t("change",e)},$=e=>{t("update:dateRange",e),t("change",e)},w=e=>{t("update:dateTimeRange",e),t("change",e)},x=e=>{e?i.value=!1:(s.value=null,i.value=!0)},A=e=>{if(n.value&&e){const l=[n.value,e];t("update:smartRange",l),t("change",l)}};return M(()=>[n.value,s.value],([e,l])=>{if(!e){s.value=null,i.value=!0;return}if(e&&(i.value=!1),e&&l){const u=[e,l];t("update:smartRange",u),t("change",u)}},{deep:!0}),R({singleDate:f,singleDateTime:g,dateRange:h,dateTimeRange:b,startDate:n,endDate:s,clearAll:()=>{f.value=null,g.value=null,h.value=null,b.value=null,n.value=null,s.value=null,i.value=!0}}),(e,l)=>{const u=O;return c(),P("div",Q,[a.mode==="date"?(c(),y(u,v({key:0,value:o(f),"onUpdate:value":l[0]||(l[0]=d=>m(f)?f.value=d:null),type:"date",placeholder:a.placeholder||"请选择日期",disabled:a.disabled,"is-date-disabled":D,"value-format":a.valueFormat,clearable:""},e.$attrs,{"onUpdate:value":N}),null,16,["value","placeholder","disabled","value-format"])):a.mode==="datetime"?(c(),y(u,v({key:1,value:o(g),"onUpdate:value":l[1]||(l[1]=d=>m(g)?g.value=d:null),type:"datetime",placeholder:a.placeholder||"请选择日期时间",disabled:a.disabled,"is-date-disabled":D,"value-format":a.valueFormat,clearable:""},e.$attrs,{"onUpdate:value":S}),null,16,["value","placeholder","disabled","value-format"])):a.mode==="daterange"?(c(),y(u,v({key:2,value:o(h),"onUpdate:value":l[2]||(l[2]=d=>m(h)?h.value=d:null),type:"daterange","start-placeholder":a.startPlaceholder||"开始日期","end-placeholder":a.endPlaceholder||"结束日期",disabled:a.disabled,"is-date-disabled":T,"value-format":a.valueFormat,clearable:""},e.$attrs,{"onUpdate:value":$}),null,16,["value","start-placeholder","end-placeholder","disabled","value-format"])):a.mode==="datetimerange"?(c(),y(u,v({key:3,value:o(b),"onUpdate:value":l[3]||(l[3]=d=>m(b)?b.value=d:null),type:"datetimerange","start-placeholder":a.startPlaceholder||"开始日期时间","end-placeholder":a.endPlaceholder||"结束日期时间",disabled:a.disabled,"is-date-disabled":T,"value-format":a.valueFormat,clearable:""},e.$attrs,{"onUpdate:value":w}),null,16,["value","start-placeholder","end-placeholder","disabled","value-format"])):a.mode==="smart-range"?(c(),P("div",V,[J("div",X,[k(u,v({class:"flex-1",value:o(n),"onUpdate:value":l[4]||(l[4]=d=>m(n)?n.value=d:null),type:"date",placeholder:a.startPlaceholder||"请选择开始日期","is-date-disabled":C,"value-format":a.valueFormat,clearable:""},a.startDateProps,{"onUpdate:value":x}),null,16,["value","placeholder","value-format"]),k(u,v({class:"flex-1",value:o(s),"onUpdate:value":l[5]||(l[5]=d=>m(s)?s.value=d:null),type:"date",placeholder:a.endPlaceholder||"请选择结束日期",disabled:o(i),"is-date-disabled":F,"value-format":a.valueFormat,clearable:""},a.endDateProps,{"onUpdate:value":A}),null,16,["value","placeholder","disabled","value-format"])])])):H("",!0)])}}});export{q as default};
