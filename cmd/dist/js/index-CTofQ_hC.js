import{R as s,P as a,_ as O}from"./index.vue_vue_type_script_setup_true_lang-D3cPmkgY.js";import{k as R,ao as m,ap as N,r as f,c as P,P as b,Q as h,R as q,S as B,U as p,J as o,X as M,j as L,_ as U}from"./vue-vendor-DgJqRHrX.js";import{H as D}from"./ui-vendor-Dblj447Y.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"default-layout"},j={class:"form-actions"},H=["onClick","disabled"],I={key:0,class:"loading"},J=["onClick"],Q=R({__name:"index",props:m({labelPlacement:{default:"left"},validateOnChange:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:m(["submit","validate-success","validate-error","fields-change"],["update:modelValue"]),setup(r,{expose:v,emit:_}){const y=()=>[{type:"input",prop:"username",label:"用户名",placeholder:"请输入用户名",rules:s.username("用户名")},{type:"input",prop:"realName",label:"真实姓名",placeholder:"请输入真实姓名",rules:[a.required("真实姓名"),a.length("真实姓名",2,20)]},{type:"inputNumber",prop:"age",label:"年龄",rules:[a.required("年龄"),a.range("年龄",1,120)],attrs:{min:1,max:120}},{type:"select",prop:"gender",label:"性别",placeholder:"请选择性别",rules:[a.required("性别")],children:[{value:"male",label:"男"},{value:"female",label:"女"}]},{type:"input",prop:"email",label:"邮箱",placeholder:"请输入邮箱地址",rules:s.email("邮箱")},{type:"input",prop:"phone",label:"手机号",placeholder:"请输入手机号",rules:s.mobile("手机号")},{type:"input",prop:"password",label:"密码",placeholder:"请输入密码",rules:s.password("密码"),attrs:{type:"password",showPasswordOn:"mousedown"}},{type:"textarea",prop:"address",label:"地址",placeholder:"请输入详细地址",rules:[a.required("地址"),a.length("地址",5,200)],attrs:{rows:3}},{type:"editor",prop:"description",label:"个人简介",placeholder:"请输入个人简介...",value:"",attrs:{height:200}}],t=_,n=N(r,"modelValue"),i=f(null),l=f(!1),d=D(),g=P(()=>{const e=y();return t("fields-change",e),e}),V=async e=>{try{l.value=!0,await e(),t("submit",n.value),d.success("默认布局表单提交成功！")}catch{d.error("请完善表单必填信息")}finally{l.value=!1}},C=e=>{e(),d.info("表单已重置")},k=e=>{t("submit",e)},w=e=>{t("validate-success",e)},x=e=>{t("validate-error",e)};return v({validate:async()=>i.value?.validate(),resetFields:()=>{i.value?.resetFields()}}),(e,c)=>{const S=O;return h(),b("div",T,[q(S,{ref_key:"formRef",ref:i,options:o(g),"layout-type":"default","validate-on-value-change":r.validateOnChange,"label-placement":r.labelPlacement,modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=u=>n.value=u),onSubmit:k,onValidateSuccess:w,onValidateError:x},{action:B(({validate:u,reset:E})=>[p("div",j,[p("button",{class:"submit-btn",onClick:F=>V(u),disabled:o(l)},[o(l)?(h(),b("span",I)):M("",!0),L(" "+U(o(l)?"提交中...":"提交表单"),1)],8,H),p("button",{class:"reset-btn",onClick:F=>C(E)}," 重置表单 ",8,J)])]),_:1},8,["options","validate-on-value-change","label-placement","modelValue"])])}}}),Y=$(Q,[["__scopeId","data-v-4ac4ace6"]]);export{Y as default};
