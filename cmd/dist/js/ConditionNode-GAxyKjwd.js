import{k,i as f,c as i,O as e,P as o,S as s,H as x,X as h,_ as a,F as y,W as b}from"./vue-vendor-DIhTWhib.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"condition-node"},B={class:"node-card"},F={class:"node-header"},M={class:"node-title"},A={key:0,class:"node-badge"},P={class:"node-content"},D={key:0,class:"conditions-list"},O={key:0,class:"more-count"},S={key:1,class:"placeholder"},V=k({__name:"ConditionNode",props:{id:{},data:{}},setup(l){const c=l,u=f("showAddMenu"),v=f("deleteNode"),p=i(()=>c.data.conditions??[]),d=i(()=>p.value.length),m=i(()=>p.value.slice(0,2)),_=i(()=>Math.max(0,d.value-2)),C=n=>{n.stopPropagation();const t=n.currentTarget.getBoundingClientRect();u&&u({x:t.left+t.width/2,y:t.bottom+10},c.id)},g=n=>{n.stopPropagation(),v&&v(c.id)};return(n,t)=>(o(),e("div",w,[s("div",{class:x(["status-indicator",l.data.status])},null,2),s("div",{class:"delete-btn",onClick:g,title:"删除节点"},[...t[0]||(t[0]=[s("div",{class:"i-mdi:close w-3 h-3"},null,-1)])]),s("div",B,[s("div",F,[t[1]||(t[1]=s("div",{class:"node-icon"},"🔀",-1)),s("span",M,a(l.data.title),1),d.value>0?(o(),e("div",A,a(d.value),1)):h("",!0)]),s("div",P,[d.value>0?(o(),e("div",D,[(o(!0),e(y,null,b(m.value,r=>(o(),e("div",{key:r.id,class:"condition-tag"},[t[2]||(t[2]=s("span",{class:"condition-icon"},"→",-1)),s("span",null,a(r.name||"条件"+(m.value.indexOf(r)+1)),1)]))),128)),_.value>0?(o(),e("div",O,"+"+a(_.value),1)):h("",!0)])):(o(),e("div",S,"请设置分支条件"))])]),s("div",{class:"add-node-btn",onClick:C,title:"添加下一个节点"},[...t[3]||(t[3]=[s("i",{class:"i-mdi:plus text-16px font-bold"},null,-1)])])]))}}),E=N(V,[["__scopeId","data-v-b7c29efc"]]);export{E as default};
